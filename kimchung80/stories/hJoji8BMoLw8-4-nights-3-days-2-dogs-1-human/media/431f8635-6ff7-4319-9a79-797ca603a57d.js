webpackJsonp([40],{43:function(e,t,i){"use strict";var r=i(57),s=i(77),o={};o.columns=6,o.coverBottomGap=80,o.bottomMargin=60;var n=r.linear(320,276,1100,s.maxGridWidth||900);o.getGridWidth=function(e){return o.getSizeOfColumns(e,o.columns)},o.getFullWidth=function(e){return Math.min(e,s.maxFullWidth||1/0)},o.getTargetGridWidth=function(e){return Math.round(n(e))},o.getMarginWidth=function(e){return Math.round((e-o.getGridWidth(e))/2)},o.getCellSize=function(e){return o.getGutter(e)*o.getSubdivisions(e)},o.getSizeOfColumns=function(e,t){if(0===t)return 0;var i=o.getCellSize(e),r=o.getGutter(e);return Math.round(t*i+(t-1)*r)},o.getColumnsFromSize=function(e,t){var i=o.getCellSize(e),r=o.getGutter(e);return Math.ceil((t+r)/(i+r))},o.getGutter=function(e){return Math.round(o.getTargetGridWidth(e)/(o.getSubdivisions(e)*o.columns+o.columns-1))};var a=r.linear(320,3,1200,8);o.getSubdivisions=function(e){return Math.round(a(o.getTargetGridWidth(e)))},o.verticalMargins={header:{header:3,pull_quote:4,body:1,media:2},pull_quote:{header:4,pull_quote:4,body:4,media:4},body:{header:3,pull_quote:4,body:1,media:2},media:{header:2,pull_quote:4,body:2,media:1}},o.getCoverHeight=function(e,t){return Math.min(e,t)},e.exports=o},51:function(e,t,i){"use strict";var r=i(41),s=i(62),o=i(101),n=i(100),a=i(102),l=i(54),h=8,u={mixins:[o],getInitialState:function(){return{_loginText:null,error:null}},componentDidMount:function(){void 0===this.get&&console.warn("LoginDialogMixin requires DataMixin")},ensureLoggedIn:function(e,t){return this.get("currentUser").loggedIn?void t(this.get("currentUser")):this._showLogin(e,t)},_showLogin:function(e,t){this._text=e,this._action=t,this.showLayer()},_hideLogin:function(){return this.isMounted()?void this.hideLayer():this.destroyLayer()},handleResponse:function(e,t){return e?(e.error_code==h&&this._showLogin(this._text,this._action),s.show(e.error_description||l("Something broke! Please try again in a bit."))):void(t.story&&n.updateStory(t.story,t.story))},renderLayer:function(){return r.createElement(a,{actionText:this._text,logInCallback:this.logInCallback,onDismiss:this._hideLogin})},logInCallback:function(e){this._hideLogin(),this._action&&this._action(e)}};e.exports=u},60:function(e,t,i){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},s=i(41),o=i(117),n=i(57),a=i(118),l=i(119),h=s.PropTypes,u="undefined"!=typeof window&&window.devicePixelRatio||1,c=10,p=s.createClass({displayName:"ResponsiveImage",propTypes:{onScreen:h.bool,x:h.number,y:h.number,width:h.number.isRequired,height:h.number,representations:h.object.isRequired,focalpoint:h.shape({x:h.number,y:h.number}).isRequired,zoom:h.number.isRequired,isProcessing:h.bool},getInitialState:function(){return{frozenRepresentation:null}},componentWillMount:function(){this._representations=this.getRepresentations(this.props.representations)},shouldComponentUpdate:function(e){return this.props.isRendered===!1&&e.isRendered===!1?!1:this.props.width!==e.width||this.props.height!==e.height||this.props.x!==e.x||this.props.y!==e.y||this.props.isRendered!==e.isRendered||this.props.representations!==e.representations||this.props.onScreen!==e.onScreen||this.props.zoom!==e.zoom||this.props.focalpoint!==e.focalpoint||this.props.shouldAnimate!==e.shouldAnimate||this.props.isUploading!==e.isUploading},componentDidMount:function(){this.updateHeight()},componentDidUpdate:function(){this.updateHeight()},componentWillReceiveProps:function(e){JSON.stringify(this.props.representations)!==JSON.stringify(e.representations)?(this._representations=this.getRepresentations(e.representations),this.refs.image&&this.refs.image.reset()):e.freezeRepresentation?!this.state.frozenRepresentation&&this.setState({frozenRepresentation:this.getBestSize(this._representations)}):this.setState({frozenRepresentation:null})},updateHeight:function(){if(!this.props.height&&this.props.onHeightChange){var e=this.getHeight(this.getBestSize(this._representations));this._height!==e&&(this._height=e,this.props.onHeightChange(e))}},getHeight:function(e){return this.props.height||e&&Math.round(this.props.width*e.height/e.width)||Math.round(3*this.props.width/4)},getIsProcessing:function(e){return this.props.isProcessing||!e.length},getBestSize:function(e){for(var t,i,r,s=this.props.width*u,n=this.props.height?this.props.height*u:0,a=0,l=e.length;l>a&&(t=e[a].width,i=e[a].height,r=e[a].src,r.match(/^data:/)||this.props.maintainProtocol||(r=o.stripProtocol(r)),!(t+c>s&&i+c>n));a++);return{width:t,height:i,src:r}},getRepresentations:function(e){return n.values(e).map(function(e){return{width:parseInt(e.size.width,10)||1/0,height:parseInt(e.size.height,10)||1/0,src:e.url}}).sort(function(e,t){return e.width-t.width})},render:function(){if(this.getIsProcessing(this._representations))return s.createElement(l,r({},this.props,{height:this.getHeight()}));var e=this.state.frozenRepresentation||this.getBestSize(this._representations);return s.createElement(a,r({},this.props,{ref:"image",src:e.src,height:this.getHeight(e),originalWidth:e.width,originalHeight:e.height,representations:null}))}});e.exports=p},67:function(e,t,i){"use strict";var r=i(59),s=i(110),o={mixins:[r,s],startViewportTracking:function(){this.startScrollListener()}};e.exports=o},76:function(e,t,i){"use strict";function r(e,t,i){t||(t=0),void 0!==i||(i=e.length);for(var r=0;i>r;r++)h.test(e.charAt(r))&&(t>r&&t++,i++,r++);return e.substring(t,i)}function s(e,t,i,r,s){e.push(i?n.createElement("span",{key:r,dangerouslySetInnerHTML:{__html:u.linkify(t,s)}}):t)}function o(e){return e.filter(function(e){return c[e]}).join(" ")}var n=i(41),a=i(57),l=i(142),h=/[\uD800-\uDFFF]/,u={},c={bold:!0,italic:!0,strikethrough:!0};u.linkify=function(e,t){var i=l.extractUrlsWithIndices(e);return l.removeOverlappingEntities(i),l.autoLinkEntities(e,i,{hashtagUrlBase:"/hashtags/",hashtagClass:"hashtag",usernameUrlBase:"/",usernameClass:"username",usernameIncludeSymbol:!0,htmlEscapeNonEntities:!0,suppressNoFollow:t})},u.newlines=function(e,t,i,r){t||(console.warn("Text.newlines should have a key"),console.trace());for(var o=e.split("\n"),a=[],l=0,h=o.length;h-1>l;l++)s(a,o[l],i,""+(t||"")+"-"+l,r),a.push(n.createElement("br",{key:["br",t||"",l].join("-")}));return s(a,o[l],i,""+(t||"")+"-"+o.length,r),a},u.newlinesWithLinks=function(e,t){return t||(console.warn("Text.newlinesWithLinks should have a key"),console.trace()),u.newlines(e,t,!0)},u.toElements=function(e,t){var i=e.plain_text;if(!i)return"Â ";var s=e.modifiers;if(!s||!s.length)return u.newlines(e.plain_text,"0",t);for(var l=[],h=0,c=0,p=s.length;p>c;c++)l.push(u.newlines(r(i,h,s[c].range[0]),""+c,t)),l.push(s[c].style?n.createElement("span",{className:o(s[c].style),key:c},u.newlines(r(i,s[c].range[0],s[c].range[1]),""+c,t,"hashtag"===s[c].style[0])):u.newlines(r(i,s[c].range[0],s[c].range[1]),""+c,t)),h=s[c].range[1];return l.push(u.newlines(r(i,h),c+1,t)),a.flatten(l)},u.toElementsWithLinks=function(e){return u.toElements(e,!0)},u.humanNumber=function(e){return e>1e6?Math.round(e/1e6)+"M":e>1e3?Math.round(e/1e3)+"K":e},u.pluralize=function(e,t,i){return 1===e?t:i},e.exports=u},80:function(e,t,i){"use strict";var r=i(41),s=i(49),o=i(61),n=i(77),a=i(58),l=i(47),h=i(63),u=i(71),c=i(50),p=i(66),d=i(100),g=i(54),m=r.addons.classSet,f=r.createClass({displayName:"LogInForm",mixins:[c,p],statics:{logIn:function(e,t,i){d.login(),h.post("/api/v1/users/login",{username:e,password:t},function(e,t){return e?(u.action("Failed to Log In"),void d.logInFailure(e)):(u.action("Logged In"),void d.logInSuccess(t,{authenticate:i}))})}},componentDidMount:function(){!l.hasTouch()&&this.refs.email.focus()},getInitialState:function(){return{}},render:function(){return r.createElement("form",{className:m({"text-xs":!0,center:!0,pvl:!0,phl:!l.hasTouch(),phm:l.hasTouch()}),onSubmit:this.onSubmit},r.createElement("a",{href:"/"},r.createElement(s,{className:"mbl",icon:i(94),iconStyle:this.props.transBackground?"light":"dark",scale:1.25})),this.props.actionText&&r.createElement("div",{className:"b text-s dark-gray mbl"},this.props.actionText),n.features.auth&&"undefined"!=typeof window&&r.createElement("div",null,r.createElement(a,{href:"/auth/facebook?origin="+window.location.href,className:m({"ib mhm mbm phm":!0,"dim-hover":!l.hasTouch()}),buttonStyle:{outline:!1,color:"fb-blue",innerColor:"white"},icon:i(137)}),r.createElement(a,{href:"/auth/twitter?origin="+window.location.href,className:m({"ib mhm mbm phm":!0,"dim-hover":!l.hasTouch()}),buttonStyle:{outline:!1,color:"twitter-blue",innerColor:"white"},icon:i(136)})),this.get("loginError")&&r.createElement("div",{className:"centered center danger mbm login-width"},this.get("loginError")),r.createElement(o,{type:"text",ref:"email",label:g("Email"),autoCorrect:!1,autoCapitalize:!1,className:m({"login-width centered block":!0,"danger-border":this.get("loginError"),"hazy-input":this.props.transBackground}),style:{borderRadius:"5px 5px 0 0",border:"none",backgroundColor:this.props.transBackground?null:"#e8e8e8",height:36}}),r.createElement(o,{type:"password",ref:"password",label:g("Password"),autoCorrect:!1,autoCapitalize:!1,className:m({"login-width centered block":!0,"danger-border":this.get("loginError"),"hazy-input":this.props.transBackground}),style:{marginTop:4,borderRadius:"0 0 5px 5px",border:"none",backgroundColor:this.props.transBackground?null:"#e8e8e8",height:36}}),r.createElement(a,{buttonStyle:this.props.transBackground?a.transWhiteOutline:a.blue,rounded:!0,className:"login-width mtm aa",type:"submit"},g("Log In")),!n.features.disableGetAppButtons&&this.renderGetAppButtons(),n.features.disableGetAppButtons&&this.renderSunsetInfo())},onSubmit:function(e){e.preventDefault();var t=this.refs.email.getValue(),i=this.refs.password.getValue();f.logIn(t,i,this.props.logInCallback)},renderGetAppButtons:function(){return r.createElement("div",null,g(r.createElement("div",{className:"mtl text-xxs "+(this.props.transBackground?"white":"medium-gray")},"DonâtÂ have an account?",r.createElement("br",null),"Download Storehouse forÂ free.")),r.createElement("div",{className:"mam"},r.createElement("a",{href:u.appStoreLink("login_form"),className:"ib common-appstore"}),r.createElement("a",{href:u.playStoreLink("login_form"),className:"ib mls common-playstore"})))},renderSunsetInfo:function(){return r.createElement("div",null,g(r.createElement("div",{className:"mtl text-xxs "+(this.props.transBackground?"white":"medium-gray")},"Storehouse is ",r.createElement("a",{href:"/more-info"},"shutting down")," on July 15, 2016.")))}});e.exports=f},91:function(e,t,i){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},s=i(41),o=i(66),n=i(60),a=i(93),l=s.createClass({displayName:"MediaElement",mixins:[o],fastMixinProps:["element","width","height","x","y","onScreen","isRendered","useTransforms","content","zoom","focalpoint","shouldAnimate","isUploading"],getDefaultProps:function(){return{showVideo:!0}},render:function(){if("video"==this.props.content.type&&this.props.showVideo)return s.createElement(a,r({},this.props,{video:this.props.content.video,content:null}));var e="video"==this.props.content.type?this.props.content.video.poster_image:this.props.content.image,t=this.props.zoom?this.props.zoom:parseFloat(e.zoom,10),i=this.props.focalpoint?this.props.focalpoint:{x:parseFloat(e.focalpoint.x,10),y:parseFloat(e.focalpoint.y,10)};return s.createElement(n,r({},this.props,{representations:e.representations,focalpoint:i,zoom:t,content:null,muted:null}))}});e.exports=l},93:function(e,t,i){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},s=i(41),o=i(57),n=i(49),a=i(46),l=i(47),h=i(71),u=i(66),c=i(50),p=i(100),d=i(123),g=i(167),m=i(109),f=i(168),v=i(60),b=i(64),T=i(169),y=i(170),x=s.addons.classSet,C={},z=s.createClass({displayName:"ResponsiveVideo",mixins:[d,f,u,c,g,m],getDefaultProps:function(){return{cover:!0,zoom:1,focalpoint:{x:.5,y:.5},expandProgress:0}},getInitialState:function(){return{loading:!0,slowLoading:!1,play:!1,playing:!1,hasPlayed:!1,isCentermostVideo:!1,height:null,progress:0}},componentWillMount:function(){this._aspectRatio=this.getAspectRatio(this.props.video.poster_image)},componentWillReceiveProps:function(e){this._aspectRatio=this.getAspectRatio(e.video.poster_image)},componentDidMount:function(){this._listeners=[],this.refs.image&&this._listeners.push(a.listen(this.refs.image.getDOMNode(),"tap",this.togglePlay)),this.refs.video&&this._listeners.push(a.listen(this.refs.video.getDOMNode(),"tap",this.togglePlay)),this.refs.button&&this._listeners.push(a.listen(this.refs.button.getDOMNode(),"tap",this.togglePlay)),l.hasTouch()||this.startOnScreenTracking()},componentWillUnmount:function(){for(var e;e=this._listeners.shift();)e.unsubscribe();this._loadTimeout&&clearTimeout(this._loadTimeout)},getIsProcessing:function(){return this.props.video.is_processing||!this.props.video.representations.high||!this.props.video.representations.high.url},getAspectRatio:function(e){var t={width:16,height:9};return o.values(e.representations).forEach(function(e){parseInt(e.size.width,10)>t.width&&(t={width:parseInt(e.size.width,10),height:parseInt(e.size.height,10)})}),t.width/t.height},onHeightChange:function(e){this.setState({height:e}),this.props.onHeightChange&&this.props.onHeightChange(e)},onScreenChange:function(e){this.props.autoplay!==!1&&(l.hasTouch()||(this.state.playing||!e||this.getIsProcessing()||this.showLoading(),this.setState({play:e,slowLoading:e?this.state.onScreen:!1})))},togglePlay:function(){return this.state.play?this.pause():this.play(),!1},play:function(){this.state.playing||this.showLoading(),l.hasTouch()&&this.refs.video.play(),this.setState({play:!0})},pause:function(){l.hasTouch()&&this.refs.video.pause(),this.setState({play:!1,slowLoading:!1})},showLoading:function(){this._loadTimeout=setTimeout(this.onSlowLoad,200)},onSlowLoad:o.safe(function(){this.state.loading&&!this.state.playing&&this.setState({slowLoading:!0,progress:0})}),toggleMute:function(e){return e.preventDefault(),p.mute(!this.get("muted")),!1},onPlay:o.safe(function(){this.setState({playing:!0,loading:!1,slowLoading:!1,hasPlayed:!0,progress:0}),h.action("Started Playing Video",{"Media ID":this.props.video.id})}),onPause:o.safe(function(){this.setState({playing:!1}),h.action("Stopped Playing Video",{"Media ID":this.props.video.id})}),onViewportUpdate:function(e,t){var i=this._aspectRatio,r=this.props.height||this.props.width/i,s=this.props.x-(t.left+e.windowWidth/2),o=this.props.y+r/2-(t.top+e.windowHeight/2)+(this.props.isFixed?t.top:0);C[this.props.video.id]=s*s+o*o;var n=this.getCentermostVideo()==this.props.video.id;n!==this.state.isCentermostVideo&&this.setState({isCentermostVideo:n})},getCentermostVideo:function(){for(var e=1/0,t=null,i=Object.keys(C),r=0,s=i.length;s>r;r++)C[i[r]]<e&&(t=i[r],e=C[i[r]]);return t},render:function(){var e,t=!1,a=this._aspectRatio,h=this.props.height||this.props.width/a;if(this.getIsProcessing())e=s.createElement(T,null);else{var u=this.getImageSize(h*a,h),c=this.getZoom(h*a,h),p=this.getOffset(u,c);t=this.state.hasPlayed&&!(l.hasTouch()&&!this.state.playing),e=s.createElement(y,{ref:"video",representations:this.props.video.representations,play:this.state.play,onPlay:this.onPlay,onPause:this.onPause,muted:o.coalesce(this.props.muted,this.get("muted"))||!this.state.isCentermostVideo&&!o.isSet(this.props.muted),loop:this.props.loop,className:x({abs:!0,off:!t}),x:this.props.width*p.x,y:h*p.y,offsetX:p.x,offsetY:p.y,width:u.width*c,height:u.height*c,isRendered:this.props.isRendered,useTransforms:this.props.useTransforms})}return s.createElement(b,r({},this.props,{height:h,className:o.joinClasses(this.props.className,"crop"),muted:null}),this.props.autoplay!==!1&&s.createElement(v,{className:t?"off":null,ref:"image",representations:this.props.video.poster_image.representations,x:this.props.width/2,y:0,offsetY:0,width:this.props.width,height:this.props.height,focalpoint:this.props.video.poster_image.focalpoint,zoom:parseInt(this.props.video.poster_image.zoom,10),onHeightChange:this.onHeightChange,onScreen:this.props.onScreen,isRendered:this.props.isRendered,useTransforms:this.props.useTransforms,useTransformsForImages:this.props.useTransformsForImages,freezeRepresentation:this.props.freezeRepresentation,animate:this.props.animate}),e,this.state.play&&!this.state.slowLoading&&this.props.children,l.hasTouch()&&s.createElement("div",{ref:"button",className:x({off:this.state.playing||this.getIsProcessing()||this.state.slowLoading,"common-play":!0})}),this.state.play&&this.state.slowLoading&&s.createElement(n,{icon:i(116),iconStyle:"video",data:.33,className:"abs loading-indicator video-loading-indicator"}),!l.hasTouch()&&!o.isSet(this.props.muted)&&s.createElement("div",{ref:"mute",className:x({z1:!0,"common-audio-off":this.get("muted"),"common-audio-on":!this.get("muted"),right:this.props.relocateAudioButton,left:!this.props.relocateAudioButton,abs:!0,pointer:!0,unmuted:!this.get("muted"),off:!this.state.playing||!this.state.isCentermostVideo&&this.get("muted")}),onClick:this.toggleMute}))}});e.exports=z},94:function(e,t,i){"use strict";function r(e,t){e.translate(-69,0),s(e,t),e.fillStyle=t[0],o(e)}var s=i(174),o=i(175);r.size={width:164,height:46},r.styles={dark:["#333","rgba(0,0,0,0.3)"],light:["#fff","rgba(255,255,255,0.3)"]},e.exports=r},101:function(e,t,i){"use strict";var r=i(120),s=i(57),o={getInitialState:function(){return{_layerShown:!1,_layerHiding:!1}},componentDidUpdate:function(){this._renderLayer()},componentDidMount:function(){this._renderLayer()},_renderLayer:function(){if(this.state._layerShown){var e=this.renderLayer();e.props.onHide=this.hideLayer,e.props.onDestroy=this.destroyLayer,e.props.hiding=this.state._layerHiding,r.render(e,this)}},isLayerShown:function(){return this.state._layerShown},showLayer:function(e){this.setState(s.merge({_layerShown:!0},e))},hideLayer:function(){this.onLayerHide&&this.isMounted()?(this.setState({_layerHiding:!0}),this.onLayerHide()):this.destroyLayer()},destroyLayer:function(){r.destroy(this),this.isMounted()&&this.onLayerDestroy&&this.onLayerDestroy()},layerWillUnmount:function(){this.isMounted()&&this.setState({_layerShown:!1,_layerHiding:!1})}};e.exports=o},102:function(e,t,i){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},s=i(41),o=i(62),n=i(66),a=i(80),l=s.createClass({displayName:"LoginDialog",mixins:[n],render:function(){return s.createElement(o,r({},this.props,{footer:!1}),s.createElement(a,{actionText:this.props.actionText,logInCallback:this.props.logInCallback}))}});e.exports=l},105:function(e,t,i){"use strict";function r(e){return C(e).toFixed(2)}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},o=i(41),n=i(57),a=i(49),l=i(106),h=i(58),u=i(47),c=i(66),p=i(109),d=i(110),g=i(64),m=i(179),f=i(91),v=i(180),b=i(43),T=i(111),y=i(129),x=o.addons.classSet,C=n.linear(18,0,80,-1),z=o.createClass({displayName:"StoryCover",mixins:[p,d,c],getInitialState:function(){return{overlay:u.hasTouch()}},getDefaultProps:function(){return{offsetX:.5,offsetY:.5,typeScaleFactor:1}},componentDidMount:function(){this.props.parallax&&this.startScrollListener()},onScroll:function(e){e.top<this.props.y+this.props.height*this.props.offsetY&&this.setState({scrollTop:e.top})},shouldShowOverlay:function(){return!!this.props.forceOverlay||this.state.overlay},showOverlay:function(){this.setState({overlay:!0})},showButton:function(){return this.props.height>350},hideOverlay:function(){this.setState({overlay:!1})},useCanvasOverlay:function(){return this.props.parallax&&!u.hasTouch()},getZoomTarget:function(){var e=this.props.story.zoom||1;return this.props.hover?20/this.props.width+e:e},getMargin:function(){return n.linear(340,20,1e3,40)(this.props.width)},getZoom:function(){return this.animated({key:"zoom",target:this.getZoomTarget(),springiness:50,damping:48})},renderStreamText:function(e){var t=e.gridWidth,i=e.streamTextOpacity,s=e.title,n=e.subtitle;return i>0?o.createElement("div",{className:x("abs fill valign-parent",u.hasTouch()?null:"layer"),style:{opacity:i},key:"streamText"},o.createElement("div",{className:"valign center"},o.createElement("div",{className:"ib phm pth",style:{width:t},onMouseEnter:u.hasTouch()||this.props.forceOverlay?null:this.showOverlay,onMouseLeave:u.hasTouch()||this.props.forceOverlay?null:this.hideOverlay},this.props.story.supertitle&&o.createElement("h4",{className:"subtitle aa phm light upper",style:{fontSize:1.4*n,marginTop:-1.4*n}},this.props.story.supertitle),o.createElement("h2",{className:"title aa phm",style:{fontSize:s,letterSpacing:r(s)}},this.props.story.title),this.props.width>400&&this.props.height>400&&o.createElement("h3",{className:"subtitle aa phm",style:{fontSize:n,letterSpacing:r(n)}},this.props.story.subtitle),this.props.showAuthor&&o.createElement("div",{className:"white mbs mtm aa",style:{fontSize:Math.max(14,.6*n)}},"story by ",this.props.story.user.full_name),this.showButton()&&o.createElement("div",{className:x("white-pill-button text-s ib mts white-border white phm",u.hasTouch()?null:"layer"),style:{opacity:this.animated("opacity/4",this.shouldShowOverlay()?1:0)}},this.props.buttonText||"View Story")))):void 0},renderStoryText:function(e){var t=e.storyTextOpacity,i=e.title,s=e.subtitle;if(t>0){var a=this.props.width,h=this.getMargin(),c=null,p=null;if(this.props.parallax&&!u.hasTouch()&&void 0!==this.props.y){var d=n.linear(0,80,1,-80),g=n.linear(0,40,1,-40),m=n.linear(0,1,1,-1),f=-this.props.height+(this.props.y-this.props.height*this.props.offsetY),v=this.props.height+(this.props.y-this.props.height*this.props.offsetY),b=(this.state.scrollTop-f)/(v-f);c=d(b),p=g(b),t=Math.min(t,1-Math.abs(m(b)))}var T=a>300?"0":"-5";return o.createElement("div",{className:"abs full-width",style:l.transformStyle({left:h,width:Math.round(a-2*h),bottom:h}),key:"storyText"},o.createElement("h2",{className:"title aa",style:l.transformStyle({fontSize:i,translateY:c,opacity:t,letterSpacing:r(i),marginBottom:T})},this.props.story.title),a>300&&o.createElement("h3",{className:"subtitle aa",style:l.transformStyle({fontSize:s,translateY:p,opacity:t,letterSpacing:r(s)})},this.props.story.subtitle))}},renderText:function(){var e=b.getGridWidth(this.props.width),t=b.getGridWidth(this.props.height),i=Math.min(this.props.width,e,8*t/3),r=(T.title(i)*this.props.typeScaleFactor).toFixed(2),s=T.subtitle(i).toFixed(2),o=n.constrain(this.animated("opacity/1",this.props.expanded?0:1),0,1),a=1-o;return[this.renderStreamText({gridWidth:e,streamTextOpacity:o,title:r,subtitle:s}),this.renderStoryText({storyTextOpacity:a,title:r,subtitle:s})]},renderAuthor:function(){var e=this.props.story.user.full_name||this.props.story.user.username,t=this.getMargin(),i=this.props.width;return o.createElement("div",{className:"abs",style:l.transformStyle({left:t,width:Math.round(u.isiOS()?2*i/3-t:i-2*t),top:t})},o.createElement(y,{user:this.props.story.user,size:40,className:"ib mrs mid",onScreen:this.props.onScreen,borderColor:"dark",overlaysImage:!0,offline:this.props.offline}),o.createElement("div",{className:"white b aa ib mid"},e))},renderAppLink:function(){if(this.props.offline)return null;if(!this.props.appURL)return null;var e=this.getMargin();return o.createElement(h,{className:"abs right nobr text-xs",style:l.transformStyle({right:e,width:Math.round(this.props.width/3-e),top:e}),buttonStyle:h.transWhite,href:this.props.appURL},"Open in App")},renderEmbedButton:function(){if(!this.props.hover)return null;var e=this.getMargin()/2;return o.createElement("div",{className:"abs",style:{top:e,right:e}},o.createElement(v,{id:this.props.story.id,story:this.props.story,hideText:!0,buttonStyle:h.transWhite,type:"div",iconScale:1.25}))},render:function(){var e=this.props.expanded?0:.3,t=e;return this.props.forceOverlay||(t=n.constrain(this.animated({key:"opacity/3",target:this.props.expanded?this.props.hover?.3:0:this.shouldShowOverlay()?.6:e,start:e}),0,1)),o.createElement(g,s({},this.props,{muted:null}),o.createElement(f,{content:this.props.story.cover_media,x:this.props.width/2,y:this.props.height/2,width:this.props.width,height:this.props.height,offsetX:.5,offsetY:.5,muted:this.props.muted,relocateAudioButton:!0,onScreen:this.props.onScreen,className:x({abs:!0,layer:!u.hasTouch(),"rounded-coners":this.props.roundedCorners,"drop-shadow":this.props.dropShadow}),showVideo:this.props.showVideo,zoom:this.getZoom(),useTransforms:this.isAnimating(),useTransformsForImages:this.isAnimating(),isUploading:this.props.story.cover_media.is_uploading,draggable:!1}),this.props.expanded&&this.useCanvasOverlay()&&o.createElement(a,{icon:i(181),className:x({"abs zero click-through":!0,layer:!u.hasTouch(),"rounded-coners":this.props.roundedCorners,"drop-shadow":this.props.dropShadow}),style:{width:this.props.width,height:this.props.height}}),this.props.expanded&&!this.useCanvasOverlay()&&o.createElement("div",{className:x({"abs zero fill gradient-bg click-through":!0,layer:!u.hasTouch(),"rounded-coners":this.props.roundedCorners,"drop-shadow":this.props.dropShadow})}),t>0&&o.createElement("div",{className:x({"black-bg abs top-left fill click-through":!0,layer:!u.hasTouch(),"rounded-coners":this.props.roundedCorners}),style:{opacity:t}}),this.props.showAuthor&&this.renderAuthor(),u.isiOS()&&this.renderAppLink(),this.props.showEmbedButton&&this.renderEmbedButton(),o.createElement(m,this.props,this.renderText()))}});e.exports=z},110:function(e,t,i){"use strict";function r(e){l||(l=requestAnimationFrame(s.bind(null,e)))}function s(e){l=null;for(var t;t=a.shift();)t._setScrollState(e)}var o=i(57),n=i(42),a=[],l=null,h={getInitialState:function(){return this.onScroll?void 0:{scrollLeft:0,scrollTop:0}},startScrollListener:function(){this._scrollListener||(this._scrollListener=n.onScroll(this._onScroll))},componentWillUnmount:function(){this.stopScrollListener()},stopScrollListener:function(){this._scrollListener&&this._scrollListener.unsubscribe(),this._scrollListener=null,this._scrollTimeout&&this._scrollTimeout.unsubscribe(),this._scrollTimeout=null},_onScroll:function(e){return this.isMounted()?this.onScroll?this.onScroll(e):void((this.state.scrollTop!==e.top||this.state.scrollLeft!==e.left)&&(a.push(this),r({scrollLeft:e.left,scrollTop:e.top}))):void 0},_setScrollState:o.safe(function(e){this.setState(e)})};e.exports=h},111:function(e,t,i){"use strict";var r=i(57),s={title:r.linear(100,14,1200,86),subtitle:r.linear(100,16,1200,46),header:r.linear(320,20,1200,38),body:r.linear(320,16,1200,24),pull_quote:r.linear(320,28,1e3,48)};e.exports=s},112:function(e,t,i){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},s=i(41),o=i(58),n=i(50),a=i(66),l=i(51),h=i(54),u=s.createClass({displayName:"LogInButton",mixins:[l,n,a],onAction:function(){this.ensureLoggedIn(this.props.reason,this.props.action)},render:function(){return s.createElement(o,r({},this.props,{action:this.onAction}),h("Log In"))}});e.exports=u},117:function(e){"use strict";var t={};t.stripProtocol=function(e){return e.indexOf("://")<0?e:e.split(":").slice(1).join(":")},t.human=function(e){return 0===e.indexOf("http://")?e.substring(7):0===e.indexOf("https://")?e.substring(8):e},t.absolute=function(e){return 0!==e.indexOf("http://")&&0!==e.indexOf("https://")?"http://"+e:e},e.exports=t},118:function(e,t,i){"use strict";function r(e){var t=1e4;return Math.round(n.constrain(e,0,1)*t)/t}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},o=i(41),n=i(57),a=i(49),l=i(66),h=i(182),u=i(109),c=i(64),p=i(168),d=i(183),g=i(47),m=o.addons.classSet,f=o.PropTypes,v=o.createClass({displayName:"CroppedImage",mixins:[d,p,u,l],propTypes:{originalWidth:f.number.isRequired,originalHeight:f.number.isRequired,focalpoint:f.shape({x:f.number,y:f.number}).isRequired,zoom:f.number.isRequired,expandProgress:f.number,shouldAnimate:f.bool},getDefaultProps:function(){return{zoom:1,focalpoint:{x:.5,y:.5},expandProgress:0,useTransforms:g.shouldUseTransforms(),useTransformsForImages:g.shouldResizeImagesWithTransforms(),shouldAnimate:!0,crop:!0}},render:function(){if(this.props.isRendered===!1)return o.createElement("div",null);if(!this.props.width)return o.createElement("div",null);if(!this.props.height)return o.createElement("div",null);if(!this.props.originalWidth)return o.createElement("div",null);if(!this.props.originalHeight)return o.createElement("div",null);var e=this.getImageSize(this.props.originalWidth,this.props.originalHeight),t=this.getZoom(this.props.originalWidth,this.props.originalHeight),l=this.getOffset(e,t),u=this.props.width/2,p=this.props.height/2,d=this.state.loading&&!this.state.src&&this.state.onScreen&&o.createElement(a,{icon:i(116),iconStyle:"image",className:"loading-indicator abs"}),g=1;return this.props.shouldAnimate&&(g=this.animated({key:"opacity",target:this.state.src?1:0,animate:this.state.onScreen,validate:r})),o.createElement(c,s({},this.props,{src:null,className:n.joinClasses(this.props.className,m({crop:this.props.crop,"wash-gray-bg":1!==g}))}),g>0&&o.createElement(h,{className:"abs click-through",style:{opacity:g||null},src:this.state.src,x:u,y:p,width:Math.round(e.width*t),height:Math.round(e.height*t),originalWidth:this.props.originalWidth,originalHeight:this.props.originalHeight,offsetX:l.x,offsetY:l.y,useCanvas:this.props.useCanvas,useTransforms:this.props.useTransforms,useTransformsForImages:this.props.useTransformsForImages,draggable:this.props.draggable,onLoading:this.onLoading,onDone:this.onDone,onError:this.onError}),!d&&this.props.children,d)}});e.exports=v},119:function(e,t,i){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},s=i(41),o=i(57),n=i(49),a=i(66),l=i(64),h=s.createClass({displayName:"ProcessingImage",mixins:[a],render:function(){return s.createElement(l,r({},this.props,{className:o.joinClasses(this.props.className,"wash-gray-bg")}),s.createElement(n,{icon:i(116),iconStyle:"image",className:"loading-indicator abs"}))}});e.exports=h},125:function(e,t,i){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},s=i(41),o=i(58),n=i(63),a=i(66),l=i(100),h=i(54),u=s.createClass({displayName:"LogOutButton",mixins:[a],action:function(){n.post("/api/v1/users/logout",this.afterLogOut),this.props.action&&this.props.action()},afterLogOut:function(){l.logOut(),this.props.afterLogOut&&this.props.afterLogOut()},render:function(){return s.createElement(o,r({},this.props,{action:this.action}),h("Log Out"))}});e.exports=u},129:function(e,t,i){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},s=i(41),o=i(49),n=i(57),a=i(47),l=i(66),h=i(60),u=s.createClass({displayName:"Avatar",mixins:[l],getDefaultProps:function(){return{overlaysImage:!1,borderColor:"dark"}},getMaskBleed:function(){return this.props.overlaysImage?0:2},getImageBleed:function(){return this.props.overlaysImage?0:1},getBorderIconStyle:function(){return this.props.borderColor+(this.props.overlaysImage?"-transparent":"")
},render:function(){var e=this.props.size;return s.createElement("div",r({},this.props,{className:n.joinClasses(this.props.className,"rel"),style:Object.assign({},this.props.style,{width:e,height:e})}),this.renderImage())},renderImage:function(){var e=this.props.user&&this.props.user.avatar_image&&this.props.user.avatar_image.representations;if(!e){var t=100,r=this.props.size+2*this.getImageBleed(),n=i(1==this.props.offline?193:194);return s.createElement(o,{icon:n,color:"light-gray",iconStyle:"default",data:t/2,width:t,height:t,className:"abs ellipse default-avatar-white",style:{width:r,height:r,left:-this.getImageBleed(),top:-this.getImageBleed()}})}var l=this.props.size;return s.createElement(h,{className:"rel ellipse",representations:e,x:l/2,y:l/2,width:l+2*this.getImageBleed(),height:l+2*this.getImageBleed(),focalpoint:{x:.5,y:.5},zoom:1,onScreen:this.props.onScreen,shouldAnimate:this.props.shouldAnimate,useTransforms:a.shouldResizeImagesWithTransforms()&&!a.isSafari(),useTransformsForImages:a.shouldResizeImagesWithTransforms()&&!a.isSafari(),style:{borderRadius:this.props.overlaysImage?this.props.size-this.getMaskBleed():null,zIndex:0}})}});e.exports=u},130:function(e){"use strict";function t(e){e.beginPath(),e.moveTo(1008,1001),e.lineTo(1008,999),e.lineTo(1005.8,998.7),e.bezierCurveTo(1005.7,998,1005.4,997.4,1005.1,996.8),e.lineTo(1006.4,995.1),e.lineTo(1005,993.6),e.lineTo(1003.2,994.9),e.bezierCurveTo(1002.6,994.6,1002,994.3,1001.3,994.2),e.lineTo(1001,992),e.lineTo(999,992),e.lineTo(998.7,994.2),e.bezierCurveTo(998,994.3,997.4,994.6,996.8,994.9),e.lineTo(995,993.6),e.lineTo(993.6,995.1),e.lineTo(994.9,996.8),e.bezierCurveTo(994.6,997.4,994.3,998,994,998.7),e.lineTo(992,999),e.lineTo(992,1001),e.lineTo(994.2,1001.3),e.bezierCurveTo(994.3,1002,994.6,1002.6,994.9,1003.2),e.lineTo(993.6,1005),e.lineTo(995,1006.4),e.lineTo(996.8,1005.1),e.bezierCurveTo(997.4,1005.4,998,1005.7,998.7,1005.8),e.lineTo(999,1008),e.lineTo(1001,1008),e.lineTo(1001.3,1005.8),e.bezierCurveTo(1002,1005.7,1002.6,1005.4,1003.3,1005.2),e.lineTo(1004.9,1006.4),e.lineTo(1006.4,1005),e.lineTo(1005.1,1003.2),e.bezierCurveTo(1005.4,1002.6,1005.7,1002,1005.8,1001.3),e.lineTo(1008,1001),e.closePath(),e.moveTo(1001.8,1001.8),e.bezierCurveTo(1000.8,1002.7,999.2,1002.7,998.2,1001.8),e.bezierCurveTo(997.3,1000.8,997.3,999.2,998.2,998.2),e.bezierCurveTo(999.2,997.3,1000.8,997.3,1001.8,998.2),e.bezierCurveTo(1002.7,999.2,1002.7,1000.8,1001.8,1001.8),e.closePath(),e.fill()}e.exports=t},136:function(e){"use strict";function t(e){e.beginPath(),e.moveTo(1007.7,996.7),e.bezierCurveTo(1007.7,996.9,1007.7,997.1,1007.7,997.2),e.bezierCurveTo(1007.7,1002.2,1004,1008,997.2,1008),e.bezierCurveTo(995.1,1008,993.1,1007.4,991.5,1006.3),e.bezierCurveTo(991.8,1006.3,992.1,1006.4,992.4,1006.4),e.bezierCurveTo(994.1,1006.4,995.7,1005.7,997,1004.7),e.bezierCurveTo(995.4,1004.7,994,1003.6,993.5,1002.1),e.bezierCurveTo(993.7,1002.1,994,1002.2,994.2,1002.2),e.bezierCurveTo(994.5,1002.2,994.9,1002.1,995.2,1002),e.bezierCurveTo(993.5,1001.7,992.2,1000.2,992.2,998.3),e.lineTo(992.2,998.3),e.bezierCurveTo(992.7,998.6,993.3,998.7,993.9,998.7),e.bezierCurveTo(992.9,998.1,992.3,996.9,992.3,995.6),e.bezierCurveTo(992.3,994.9,992.4,994.3,992.8,993.7),e.bezierCurveTo(994.6,996,997.3,997.5,1000.4,997.6),e.bezierCurveTo(1000.3,997.4,1000.3,997.1,1000.3,996.8),e.bezierCurveTo(1000.3,994.7,1001.9,993,1004,993),e.bezierCurveTo(1005,993,1006,993.5,1006.7,994.2),e.bezierCurveTo(1007.5,994,1008.3,993.7,1009,993.3),e.bezierCurveTo(1008.7,994.2,1008.1,994.9,1007.4,995.4),e.bezierCurveTo(1008.1,995.3,1008.8,995.1,1009.5,994.8),e.bezierCurveTo(1009,995.5,1008.4,996.2,1007.7,996.7),e.fill()}e.exports=t},137:function(e){"use strict";function t(e){e.beginPath(),e.moveTo(1004.6,1000.6),e.lineTo(1001.3,1000.6),e.lineTo(1001.3,1009),e.lineTo(998,1009),e.lineTo(998,1000.6),e.lineTo(995.7,1000.6),e.lineTo(995.7,997.5),e.lineTo(998,997.5),e.lineTo(998,994.9),e.bezierCurveTo(998,992.9,999.4,991,1002.5,991),e.bezierCurveTo(1003.8,991,1004.7,991.1,1004.7,991.1),e.lineTo(1004.6,994),e.bezierCurveTo(1004.6,994,1003.7,993.9,1002.6,993.9),e.bezierCurveTo(1001.5,993.9,1001.3,994.5,1001.3,995.3),e.lineTo(1001.3,995.4),e.lineTo(1001.3,997.5),e.lineTo(1004.7,997.5),e.lineTo(1004.6,1000.6),e.fill()}e.exports=t},142:function(e){"use strict";!function(){function t(e,t){return t=t||"","string"!=typeof e&&(e.global&&t.indexOf("g")<0&&(t+="g"),e.ignoreCase&&t.indexOf("i")<0&&(t+="i"),e.multiline&&t.indexOf("m")<0&&(t+="m"),e=e.source),new RegExp(e.replace(/#\{(\w+)\}/g,function(e,t){var i=o.txt.regexen[t]||"";return"string"!=typeof i&&(i=i.source),i}),t)}function i(e,t){return e.replace(/#\{(\w+)\}/g,function(e,i){return t[i]||""})}function r(e,t,i){var r=String.fromCharCode(t);return i!==t&&(r+="-"+String.fromCharCode(i)),e.push(r),e}function s(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}if("undefined"==typeof o||null===o)var o={};o.txt={},o.txt.regexen={};var n={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};o.txt.htmlEscape=function(e){return e&&e.replace(/[&"'><]/g,function(e){return n[e]})},o.txt.regexSupplant=t,o.txt.stringSupplant=i,o.txt.addCharsToCharClass=r;var a=String.fromCharCode,l=[a(32),a(133),a(160),a(5760),a(6158),a(8232),a(8233),a(8239),a(8287),a(12288)];r(l,9,13),r(l,8192,8202);var h=[a(65534),a(65279),a(65535)];r(h,8234,8238),o.txt.regexen.spaces_group=t(l.join("")),o.txt.regexen.spaces=t("["+l.join("")+"]"),o.txt.regexen.invalid_chars_group=t(h.join("")),o.txt.regexen.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$/,o.txt.regexen.rtl_chars=/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/gm,o.txt.regexen.non_bmp_code_pairs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/gm;var u=[];r(u,1024,1279),r(u,1280,1319),r(u,11744,11775),r(u,42560,42655),r(u,1425,1471),r(u,1473,1474),r(u,1476,1477),r(u,1479,1479),r(u,1488,1514),r(u,1520,1524),r(u,64274,64296),r(u,64298,64310),r(u,64312,64316),r(u,64318,64318),r(u,64320,64321),r(u,64323,64324),r(u,64326,64335),r(u,1552,1562),r(u,1568,1631),r(u,1646,1747),r(u,1749,1756),r(u,1758,1768),r(u,1770,1775),r(u,1786,1788),r(u,1791,1791),r(u,1872,1919),r(u,2208,2208),r(u,2210,2220),r(u,2276,2302),r(u,64336,64433),r(u,64467,64829),r(u,64848,64911),r(u,64914,64967),r(u,65008,65019),r(u,65136,65140),r(u,65142,65276),r(u,8204,8204),r(u,3585,3642),r(u,3648,3662),r(u,4352,4607),r(u,12592,12677),r(u,43360,43391),r(u,44032,55215),r(u,55216,55295),r(u,65441,65500),r(u,12449,12538),r(u,12540,12542),r(u,65382,65439),r(u,65392,65392),r(u,65296,65305),r(u,65313,65338),r(u,65345,65370),r(u,12353,12438),r(u,12441,12446),r(u,13312,19903),r(u,19968,40959),r(u,173824,177983),r(u,177984,178207),r(u,194560,195103),r(u,12291,12291),r(u,12293,12293),r(u,12347,12347),o.txt.regexen.nonLatinHashtagChars=t(u.join(""));var c=[];r(c,192,214),r(c,216,246),r(c,248,255),r(c,256,591),r(c,595,596),r(c,598,599),r(c,601,601),r(c,603,603),r(c,611,611),r(c,616,616),r(c,623,623),r(c,626,626),r(c,649,649),r(c,651,651),r(c,699,699),r(c,768,879),r(c,7680,7935),o.txt.regexen.latinAccentChars=t(c.join("")),o.txt.regexen.hashSigns=/[#ï¼]/,o.txt.regexen.hashtagAlpha=t(/[a-z_#{latinAccentChars}#{nonLatinHashtagChars}]/i),o.txt.regexen.hashtagAlphaNumeric=t(/[a-z0-9_#{latinAccentChars}#{nonLatinHashtagChars}]/i),o.txt.regexen.endHashtagMatch=t(/^(?:#{hashSigns}|:\/\/)/),o.txt.regexen.hashtagBoundary=t(/(?:^|$|[^&a-z0-9_#{latinAccentChars}#{nonLatinHashtagChars}])/),o.txt.regexen.validHashtag=t(/(#{hashtagBoundary})(#{hashSigns})(#{hashtagAlphaNumeric}*#{hashtagAlpha}#{hashtagAlphaNumeric}*)/gi),o.txt.regexen.validMentionPrecedingChars=/(?:^|[^a-zA-Z0-9_!#$%&*@ï¼ ]|(?:rt|RT|rT|Rt):?)/,o.txt.regexen.atSigns=/[@ï¼ ]/,o.txt.regexen.validMentionOrList=t("(#{validMentionPrecedingChars})(#{atSigns})([a-zA-Z0-9_]{1,20})(/[a-zA-Z][a-zA-Z0-9_-]{0,24})?","g"),o.txt.regexen.validReply=t(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/),o.txt.regexen.endMentionMatch=t(/^(?:#{atSigns}|[#{latinAccentChars}]|:\/\/)/),o.txt.regexen.validUrlPrecedingChars=t(/(?:[^A-Za-z0-9@ï¼ $#ï¼#{invalid_chars_group}]|^)/),o.txt.regexen.invalidUrlWithoutProtocolPrecedingChars=/[-_.\/]$/,o.txt.regexen.invalidDomainChars=i("#{punct}#{spaces_group}#{invalid_chars_group}",o.txt.regexen),o.txt.regexen.validDomainChars=t(/[^#{invalidDomainChars}]/),o.txt.regexen.validSubdomain=t(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/),o.txt.regexen.validDomainName=t(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/),o.txt.regexen.validGTLD=t(RegExp("(?:(?:academy|accountants|active|actor|aero|agency|airforce|archi|army|arpa|asia|associates|attorney|audio|autos|axa|bar|bargains|bayern|beer|berlin|best|bid|bike|bio|biz|black|blackfriday|blue|bmw|boutique|brussels|build|builders|buzz|bzh|cab|camera|camp|cancerresearch|capetown|capital|cards|care|career|careers|cash|cat|catering|center|ceo|cheap|christmas|church|citic|claims|cleaning|clinic|clothing|club|codes|coffee|college|cologne|com|community|company|computer|condos|construction|consulting|contractors|cooking|cool|coop|country|credit|creditcard|cruises|cuisinella|dance|dating|degree|democrat|dental|dentist|desi|diamonds|digital|direct|directory|discount|dnp|domains|durban|edu|education|email|engineer|engineering|enterprises|equipment|estate|eus|events|exchange|expert|exposed|fail|farm|feedback|finance|financial|fish|fishing|fitness|flights|florist|foo|foundation|frogans|fund|furniture|futbol|gal|gallery|gift|gives|glass|global|globo|gmo|gop|gov|graphics|gratis|green|gripe|guide|guitars|guru|hamburg|haus|hiphop|hiv|holdings|holiday|homes|horse|host|house|immobilien|industries|info|ink|institute|insure|int|international|investments|jetzt|jobs|joburg|juegos|kaufen|kim|kitchen|kiwi|koeln|kred|land|lawyer|lease|lgbt|life|lighting|limited|limo|link|loans|london|lotto|luxe|luxury|maison|management|mango|market|marketing|media|meet|menu|miami|mil|mini|mobi|moda|moe|monash|mortgage|moscow|motorcycles|museum|nagoya|name|navy|net|neustar|nhk|ninja|nyc|okinawa|onl|org|organic|ovh|paris|partners|parts|photo|photography|photos|physio|pics|pictures|pink|place|plumbing|post|press|pro|productions|properties|pub|qpon|quebec|recipes|red|rehab|reise|reisen|ren|rentals|repair|report|republican|rest|reviews|rich|rio|rocks|rodeo|ruhr|ryukyu|saarland|schmidt|schule|scot|services|sexy|shiksha|shoes|singles|social|software|sohu|solar|solutions|soy|space|spiegel|supplies|supply|support|surf|surgery|suzuki|systems|tattoo|tax|technology|tel|tienda|tips|tirol|today|tokyo|tools|town|toys|trade|training|travel|university|uno|vacations|vegas|ventures|versicherung|vet|viajes|villas|vision|vlaanderen|vodka|vote|voting|voto|voyage|wang|watch|webcam|website|wed|wien|wiki|works|wtc|wtf|xxx|xyz|yachts|yokohama|zone|Ð´ÐµÑÐ¸|Ð¼Ð¾ÑÐºÐ²Ð°|Ð¾Ð½Ð»Ð°Ð¹Ð½|Ð¾ÑÐ³|ÑÐ°Ð¹Ñ|Ø¨Ø§Ø²Ø§Ø±|Ø´Ø¨ÙØ©|ÙÙÙØ¹|à¤¸à¤à¤à¤ à¤¨|ã¿ããª|ä¸ç|ä¸­ä¿¡|ä¸­æç½|å¬å¸|å¬ç|åå|åæ |å¨çº¿|æç±ä½ |æ¿å¡|æºæ|æ¸¸æ|ç§»å¨|ç»ç»æºæ|ç½å|ç½ç»|éå¢|ì¼ì±)(?=[^0-9a-zA-Z@]|$))")),o.txt.regexen.validCCTLD=t(RegExp("(?:(?:ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bl|bm|bn|bo|bq|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mf|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|Ð¼ÐºÐ´|Ð¼Ð¾Ð½|ÑÑ|ÑÑÐ±|ÑÐºÑ|ÒÐ°Ð·|Ø§ÙØ§Ø±Ø¯Ù|Ø§ÙØ¬Ø²Ø§Ø¦Ø±|Ø§ÙØ³Ø¹ÙØ¯ÙØ©|Ø§ÙÙØºØ±Ø¨|Ø§ÙØ§Ø±Ø§Øª|Ø§ÛØ±Ø§Ù|Ø¨Ú¾Ø§Ø±Øª|ØªÙÙØ³|Ø³ÙØ¯Ø§Ù|Ø³ÙØ±ÙØ©|Ø¹ÙØ§Ù|ÙÙØ³Ø·ÙÙ|ÙØ·Ø±|ÙØµØ±|ÙÙÙØ³ÙØ§|Ù¾Ø§Ú©Ø³ØªØ§Ù|à¤­à¤¾à¤°à¤¤|à¦¬à¦¾à¦à¦²à¦¾|à¦­à¦¾à¦°à¦¤|à¨­à¨¾à¨°à¨¤|àª­àª¾àª°àª¤|à®à®¨à¯à®¤à®¿à®¯à®¾|à®à®²à®à¯à®à¯|à®à®¿à®à¯à®à®ªà¯à®ªà¯à®°à¯|à°­à°¾à°°à°¤à±|à¶½à¶à¶à·|à¹à¸à¸¢|áá|ä¸­å½|ä¸­å|å°æ¹¾|å°ç£|æ°å å¡|é¦æ¸¯|íêµ­)(?=[^0-9a-zA-Z@]|$))")),o.txt.regexen.validPunycode=t(/(?:xn--[0-9a-z]+)/),o.txt.regexen.validSpecialCCTLD=t(RegExp("(?:(?:co|tv)(?=[^0-9a-zA-Z@]|$))")),o.txt.regexen.validDomain=t(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/),o.txt.regexen.validAsciiDomain=t(/(?:(?:[\-a-z0-9#{latinAccentChars}]+)\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi),o.txt.regexen.invalidShortDomain=t(/^#{validDomainName}#{validCCTLD}$/i),o.txt.regexen.validSpecialShortDomain=t(/^#{validDomainName}#{validSpecialCCTLD}$/i),o.txt.regexen.validPortNumber=t(/[0-9]+/),o.txt.regexen.validGeneralUrlPathChars=t(/[a-z0-9!\*';:=\+,\.\$\/%#\[\]\-_~@|&#{latinAccentChars}]/i),o.txt.regexen.validUrlBalancedParens=t("\\((?:#{validGeneralUrlPathChars}+|(?:#{validGeneralUrlPathChars}*\\(#{validGeneralUrlPathChars}+\\)#{validGeneralUrlPathChars}*))\\)","i"),o.txt.regexen.validUrlPathEndingChars=t(/[\+\-a-z0-9=_#\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i),o.txt.regexen.validUrlPath=t("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:@#{validGeneralUrlPathChars}+/))","i"),o.txt.regexen.validUrlQueryChars=/[a-z0-9!?\*'@\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i,o.txt.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i,o.txt.regexen.extractUrl=t("((#{validUrlPrecedingChars})((https?:\\/\\/)?(#{validDomain})(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))","gi"),o.txt.regexen.validTcoUrl=/^https?:\/\/t\.co\/[a-z0-9]+/i,o.txt.regexen.urlHasProtocol=/^https?:\/\//i,o.txt.regexen.urlHasHttps=/^https:\/\//i,o.txt.regexen.cashtag=/[a-z]{1,6}(?:[._][a-z]{1,2})?/i,o.txt.regexen.validCashtag=t("(^|#{spaces})(\\$)(#{cashtag})(?=$|\\s|[#{punct}])","gi"),o.txt.regexen.validateUrlUnreserved=/[a-z0-9\-._~]/i,o.txt.regexen.validateUrlPctEncoded=/(?:%[0-9a-f]{2})/i,o.txt.regexen.validateUrlSubDelims=/[!$&'()*+,;=]/i,o.txt.regexen.validateUrlPchar=t("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|[:|@])","i"),o.txt.regexen.validateUrlScheme=/(?:[a-z][a-z0-9+\-.]*)/i,o.txt.regexen.validateUrlUserinfo=t("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|:)*","i"),o.txt.regexen.validateUrlDecOctet=/(?:[0-9]|(?:[1-9][0-9])|(?:1[0-9]{2})|(?:2[0-4][0-9])|(?:25[0-5]))/i,o.txt.regexen.validateUrlIpv4=t(/(?:#{validateUrlDecOctet}(?:\.#{validateUrlDecOctet}){3})/i),o.txt.regexen.validateUrlIpv6=/(?:\[[a-f0-9:\.]+\])/i,o.txt.regexen.validateUrlIp=t("(?:#{validateUrlIpv4}|#{validateUrlIpv6})","i"),o.txt.regexen.validateUrlSubDomainSegment=/(?:[a-z0-9](?:[a-z0-9_\-]*[a-z0-9])?)/i,o.txt.regexen.validateUrlDomainSegment=/(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?)/i,o.txt.regexen.validateUrlDomainTld=/(?:[a-z](?:[a-z0-9\-]*[a-z0-9])?)/i,o.txt.regexen.validateUrlDomain=t(/(?:(?:#{validateUrlSubDomainSegment]}\.)*(?:#{validateUrlDomainSegment]}\.)#{validateUrlDomainTld})/i),o.txt.regexen.validateUrlHost=t("(?:#{validateUrlIp}|#{validateUrlDomain})","i"),o.txt.regexen.validateUrlUnicodeSubDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9_\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,o.txt.regexen.validateUrlUnicodeDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,o.txt.regexen.validateUrlUnicodeDomainTld=/(?:(?:[a-z]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,o.txt.regexen.validateUrlUnicodeDomain=t(/(?:(?:#{validateUrlUnicodeSubDomainSegment}\.)*(?:#{validateUrlUnicodeDomainSegment}\.)#{validateUrlUnicodeDomainTld})/i),o.txt.regexen.validateUrlUnicodeHost=t("(?:#{validateUrlIp}|#{validateUrlUnicodeDomain})","i"),o.txt.regexen.validateUrlPort=/[0-9]{1,5}/,o.txt.regexen.validateUrlUnicodeAuthority=t("(?:(#{validateUrlUserinfo})@)?(#{validateUrlUnicodeHost})(?::(#{validateUrlPort}))?","i"),o.txt.regexen.validateUrlAuthority=t("(?:(#{validateUrlUserinfo})@)?(#{validateUrlHost})(?::(#{validateUrlPort}))?","i"),o.txt.regexen.validateUrlPath=t(/(\/#{validateUrlPchar}*)*/i),o.txt.regexen.validateUrlQuery=t(/(#{validateUrlPchar}|\/|\?)*/i),o.txt.regexen.validateUrlFragment=t(/(#{validateUrlPchar}|\/|\?)*/i),o.txt.regexen.validateUrlUnencoded=t("^(?:([^:/?#]+):\\/\\/)?([^/?#]*)([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$","i");var p="tweet-url list-slug",d="tweet-url username",g="tweet-url hashtag",m="tweet-url cashtag",f={urlClass:!0,listClass:!0,usernameClass:!0,hashtagClass:!0,cashtagClass:!0,usernameUrlBase:!0,listUrlBase:!0,hashtagUrlBase:!0,cashtagUrlBase:!0,usernameUrlBlock:!0,listUrlBlock:!0,hashtagUrlBlock:!0,linkUrlBlock:!0,usernameIncludeSymbol:!0,suppressLists:!0,suppressNoFollow:!0,targetBlank:!0,suppressDataScreenName:!0,urlEntities:!0,symbolTag:!0,textWithSymbolTag:!0,urlTarget:!0,invisibleTagAttrs:!0,linkAttributeBlock:!0,linkTextBlock:!0,htmlEscapeNonEntities:!0},v={disabled:!0,readonly:!0,multiple:!0,checked:!0};o.txt.tagAttrs=function(e){var t="";for(var i in e){var r=e[i];v[i]&&(r=r?i:null),null!=r&&(t+=" "+o.txt.htmlEscape(i)+'="'+o.txt.htmlEscape(r.toString())+'"')}return t},o.txt.linkToText=function(e,t,r,s){s.suppressNoFollow||(r.rel="nofollow"),s.linkAttributeBlock&&s.linkAttributeBlock(e,r),s.linkTextBlock&&(t=s.linkTextBlock(e,t));var n={text:t,attr:o.txt.tagAttrs(r)};return i("<a#{attr}>#{text}</a>",n)},o.txt.linkToTextWithSymbol=function(e,t,i,r,s){var n=s.symbolTag?"<"+s.symbolTag+">"+t+"</"+s.symbolTag+">":t;i=o.txt.htmlEscape(i);var a=s.textWithSymbolTag?"<"+s.textWithSymbolTag+">"+i+"</"+s.textWithSymbolTag+">":i;return s.usernameIncludeSymbol||!t.match(o.txt.regexen.atSigns)?o.txt.linkToText(e,n+a,r,s):n+o.txt.linkToText(e,a,r,s)},o.txt.linkToHashtag=function(e,t,i){var r=t.substring(e.indices[0],e.indices[0]+1),n=o.txt.htmlEscape(e.hashtag),a=s(i.htmlAttrs||{});return a.href=i.hashtagUrlBase+n,a.title="#"+n,a["class"]=i.hashtagClass,n.charAt(0).match(o.txt.regexen.rtl_chars)&&(a["class"]+=" rtl"),i.targetBlank&&(a.target="_blank"),o.txt.linkToTextWithSymbol(e,r,n,a,i)},o.txt.linkToMentionAndList=function(e,t,i){var r=t.substring(e.indices[0],e.indices[0]+1),n=o.txt.htmlEscape(e.screenName),a=o.txt.htmlEscape(e.listSlug),l=e.listSlug&&!i.suppressLists,h=s(i.htmlAttrs||{});return h["class"]=l?i.listClass:i.usernameClass,h.href=l?i.listUrlBase+n+a:i.usernameUrlBase+n,l||i.suppressDataScreenName||(h["data-screen-name"]=n),i.targetBlank&&(h.target="_blank"),o.txt.linkToTextWithSymbol(e,r,l?n+a:n,h,i)},o.txt.linkToUrl=function(e,t,i){var r=e.url,n=r,a=o.txt.htmlEscape(n),l=i.urlEntities&&i.urlEntities[r]||e;l.display_url&&(a=o.txt.linkTextWithEntity(l,i));var h=s(i.htmlAttrs||{});return r.match(o.txt.regexen.urlHasProtocol)||(r="http://"+r),h.href=r,i.targetBlank&&(h.target="_blank"),i.urlClass&&(h["class"]=i.urlClass),i.urlTarget&&(h.target=i.urlTarget),!i.title&&l.display_url&&(h.title=l.expanded_url),o.txt.linkToText(e,a,h,i)},o.txt.autoLinkEntities=function(e,t,i){i=s(i||{}),i.hashtagClass=i.hashtagClass||g,i.hashtagUrlBase=i.hashtagUrlBase||"https://twitter.com/#!/search?q=%23",i.cashtagClass=i.cashtagClass||m,i.cashtagUrlBase=i.cashtagUrlBase||"https://twitter.com/#!/search?q=%24",i.listClass=i.listClass||p,i.usernameClass=i.usernameClass||d,i.usernameUrlBase=i.usernameUrlBase||"https://twitter.com/",i.listUrlBase=i.listUrlBase||"https://twitter.com/",i.htmlAttrs=o.txt.extractHtmlAttrsFromOptions(i),i.invisibleTagAttrs=i.invisibleTagAttrs||"style='position:absolute;left:-9999px;'";var r,n,a;if(i.urlEntities){for(r={},n=0,a=i.urlEntities.length;a>n;n++)r[i.urlEntities[n].url]=i.urlEntities[n];i.urlEntities=r}var l="",h=0;t.sort(function(e,t){return e.indices[0]-t.indices[0]});for(var u=i.htmlEscapeNonEntities?o.txt.htmlEscape:function(e){return e},n=0;n<t.length;n++){var c=t[n];l+=u(e.substring(h,c.indices[0])),c.url?l+=o.txt.linkToUrl(c,e,i):c.hashtag?l+=o.txt.linkToHashtag(c,e,i):c.screenName?l+=o.txt.linkToMentionAndList(c,e,i):c.cashtag&&(l+=o.txt.linkToCashtag(c,e,i)),h=c.indices[1]}return l+=u(e.substring(h,e.length))},o.txt.extractHtmlAttrsFromOptions=function(e){var t={};for(var i in e){var r=e[i];f[i]||(v[i]&&(r=r?i:null),null!=r&&(t[i]=r))}return t},o.txt.removeOverlappingEntities=function(e){e.sort(function(e,t){return e.indices[0]-t.indices[0]});for(var t=e[0],i=1;i<e.length;i++)t.indices[1]>e[i].indices[0]?(e.splice(i,1),i--):t=e[i]},o.txt.extractMentionsWithIndices=function(e){for(var t,i=[],r=o.txt.extractMentionsOrListsWithIndices(e),s=0;s<r.length;s++)t=r[s],""==t.listSlug&&i.push({screenName:t.screenName,indices:t.indices});return i},o.txt.extractMentionsOrListsWithIndices=function(e){if(!e||!e.match(o.txt.regexen.atSigns))return[];var t=[];return e.replace(o.txt.regexen.validMentionOrList,function(e,i,r,s,n,a,l){var h=l.slice(a+e.length);if(!h.match(o.txt.regexen.endMentionMatch)){n=n||"";var u=a+i.length,c=u+s.length+n.length+1;t.push({screenName:s,listSlug:n,indices:[u,c]})}}),t},o.txt.extractUrlsWithIndices=function(e,t){if(t||(t={extractUrlsWithoutProtocol:!0}),!e||(t.extractUrlsWithoutProtocol?!e.match(/\./):!e.match(/:/)))return[];for(var i=[];o.txt.regexen.extractUrl.exec(e);){var r=RegExp.$2,s=RegExp.$3,n=RegExp.$4,a=RegExp.$5,l=RegExp.$7,h=o.txt.regexen.extractUrl.lastIndex,u=h-s.length;if(n)s.match(o.txt.regexen.validTcoUrl)&&(s=RegExp.lastMatch,h=u+s.length),i.push({url:s,indices:[u,h]});else{if(!t.extractUrlsWithoutProtocol||r.match(o.txt.regexen.invalidUrlWithoutProtocolPrecedingChars))continue;var c=null,p=0;if(a.replace(o.txt.regexen.validAsciiDomain,function(e){var t=a.indexOf(e,p);p=t+e.length,c={url:e,indices:[u+t,u+p]},(l||e.match(o.txt.regexen.validSpecialShortDomain)||!e.match(o.txt.regexen.invalidShortDomain))&&i.push(c)}),null==c)continue;l&&(c.url=s.replace(a,c.url),c.indices[1]=h)}}return i},o.txt.extractHashtagsWithIndices=function(e,t){if(t||(t={checkUrlOverlap:!0}),!e||!e.match(o.txt.regexen.hashSigns))return[];var i=[];if(e.replace(o.txt.regexen.validHashtag,function(e,t,r,s,n,a){var l=a.slice(n+e.length);if(!l.match(o.txt.regexen.endHashtagMatch)){var h=n+t.length,u=h+s.length+1;i.push({hashtag:s,indices:[h,u]})}}),t.checkUrlOverlap){var r=o.txt.extractUrlsWithIndices(e);if(r.length>0){var s=i.concat(r);o.txt.removeOverlappingEntities(s),i=[];for(var n=0;n<s.length;n++)s[n].hashtag&&i.push(s[n])}}return i},"undefined"!=typeof e&&e.exports&&(e.exports=o.txt)}()},167:function(e,t,i){"use strict";var r=i(41),s=i(57),o=i(67),n=r.PropTypes,a={mixins:[o],propTypes:{width:n.number,height:n.number,x:n.number,y:n.number,offsetX:n.number,offsetY:n.number,onScreen:n.bool},getInitialState:function(){return{onScreen:!1}},componentWillMount:function(){this.componentWillReceiveProps(this.props)},componentWillReceiveProps:function(e){void 0!==e.onScreen&&(this.stopScrollListener(),this.stopResizeListener(),this.setState({onScreen:e.onScreen})),this._updateViewport(e)},componentDidMount:function(){this.props.onScreen&&this.onScreenChange&&this.onScreenChange(this.props.onScreen)},componentDidUpdate:function(e){e.onScreen!==this.props.onScreen&&this.onScreenChange&&this.onScreenChange(this.props.onScreen)},startOnScreenTracking:function(){void 0===this.props.onScreen&&this.startViewportTracking()},onScroll:function(e){this._scroll=e,this._updateViewport()},onResize:function(e){this._size=e,this._updateViewport()},_updateViewport:function(e){if(this._scroll&&this._size){e||(e=this.props);var t=this.state.onScreenVerticalMargin||0,i=s.coalesce(e.offsetX,.5),r=s.coalesce(e.offsetY,.5),o=e.width||this.state.width||this._width,n=e.height||this.state.height||this._height,a=s.isSet(e.y)?e.y-n*r:this.state.top,l=s.isSet(e.y)?e.y+n*(1-r):this.state.top+this.state.height,h=s.isSet(e.x)?e.x-o*i:this.state.left,u=s.isSet(e.x)?e.x+o*(1-i):this.state.left+this.state.width,c=e.isFixed?0:this._scroll.top,p=l>c+t&&c+this._size.windowHeight-t>a&&this._scroll.left<u&&this._scroll.left+this._size.windowWidth>h;p!==this.state.onScreen&&(this.setState({onScreen:p}),this.onScreenChange&&this.onScreenChange(p)),this.onViewportUpdate&&this.onViewportUpdate(this._size,this._scroll)}}};e.exports=a},168:function(e,t,i){"use strict";var r=i(57),s={getImageSize:function(e,t){var i=r.cover(this.props.width,this.props.height,e,t);return{width:Math.round(i.width),height:Math.round(i.height)}},getZoom:function(){return this.props.zoom+(1-this.props.zoom)*this.props.expandProgress},getOffset:function(e,t){var i={},s=this.props.focalpoint||{x:.5,y:.5},o=this.props.width/2/(e.width*t),n=this.props.height/2/(e.height*t);return i.x=r.constrain(s.x,o,1-o),i.y=r.constrain(s.y,n,1-n),i.x=i.x+(.5-i.x)*this.props.expandProgress,i.y=i.y+(.5-i.y)*this.props.expandProgress,i}};e.exports=s},169:function(e,t,i){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},s=i(41),o=i(57),n=i(66),a=s.createClass({displayName:"ProcessingVideo",mixins:[n],render:function(){return s.createElement("div",r({},this.props,{className:o.joinClasses(this.props.className,"black-trans-bg abs zero fill valign-parent"),style:o.merge(this.props.style,{opacity:.8})}),s.createElement("div",{className:"valign center text-s"},s.createElement("div",{className:"pam"},s.createElement("div",null,"ThisÂ video is still processing."),s.createElement("div",null,"Please try again inÂ aÂ bit."))))}});e.exports=a},170:function(e,t,i){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},s=i(41),o=i(57),n=i(222),a=i(66),l=i(123),h=s.createClass({displayName:"ScaledVideo",mixins:[l,a],render:function(){return this.props.isRendered===!1?s.createElement("div",null):s.createElement(n,r({},this.props,{ref:"video",style:o.merge(this.props.style,this.getPositionStyle(this.props.useTransformsForVideos)),x:null,y:null,width:null,height:null}))},play:function(){this.refs.video.play()},pause:function(){this.refs.video.pause()}});e.exports=h},174:function(e){"use strict";function t(e,t){e.beginPath(),e.moveTo(1013.4,1015.5),e.lineTo(1000.4,1015.5),e.lineTo(1000.4,1000.5),e.lineTo(1013.4,1000.5),e.lineTo(1013.4,1015.5),e.closePath(),e.fillStyle=t[1],e.fill(),e.beginPath(),e.moveTo(987.4,1000.5),e.lineTo(1000.4,1000.5),e.lineTo(1000.4,985.5),e.lineTo(987.4,985.5),e.lineTo(987.4,1000.5),e.closePath(),e.fill(),e.beginPath(),e.moveTo(1000.4,1023),e.lineTo(1013.4,1015.5),e.lineTo(1000.4,1008),e.lineTo(987.4,1015.5),e.lineTo(1000.4,1023),e.closePath(),e.fillStyle=t[0],e.fill(),e.beginPath(),e.moveTo(1000.4,993),e.lineTo(987.4,1000.5),e.lineTo(1000.4,1008),e.lineTo(1013.4,1000.5),e.lineTo(1000.4,993),e.closePath(),e.fill(),e.beginPath(),e.moveTo(1000.4,978),e.lineTo(987.4,985.5),e.lineTo(1000.4,993),e.lineTo(1013.4,985.5),e.lineTo(1000.4,978),e.closePath(),e.fill()}t.size={width:28,height:46},t.styles={dark:["#333","rgba(0,0,0,0.3)"],light:["#fff","rgba(255,255,255,0.3)"]},e.exports=t},175:function(e){"use strict";function t(e){e.beginPath(),e.moveTo(1043.9,1001.4),e.lineTo(1040.6,1001.4),e.lineTo(1040.6,1004.8),e.lineTo(1040.6,1011.8),e.bezierCurveTo(1040.6,1013.6,1040.9,1014.6,1041.5,1015.5),e.bezierCurveTo(1042.4,1016.6,1043.8,1017.2,1045.7,1017.2),e.bezierCurveTo(1046.4,1017.2,1047.3,1017.1,1047.8,1017),e.lineTo(1047.3,1014.2),e.bezierCurveTo(1047,1014.3,1046.4,1014.3,1045.9,1014.3),e.bezierCurveTo(1045.1,1014.3,1044.6,1014.1,1044.3,1013.7),e.bezierCurveTo(1044,1013.4,1043.9,1013,1043.9,1012.2),e.lineTo(1043.9,1007.5),e.lineTo(1047.9,1007.5),e.lineTo(1047.9,1004.8),e.lineTo(1043.9,1004.8),e.lineTo(1043.9,1001.4),e.closePath(),e.fill(),e.beginPath(),e.moveTo(1055.3,1004.5),e.bezierCurveTo(1051.7,1004.5,1048.9,1007.4,1048.9,1010.9),e.bezierCurveTo(1048.9,1014.4,1051.7,1017.2,1055.3,1017.2),e.bezierCurveTo(1059,1017.2,1061.8,1014.4,1061.8,1010.9),e.bezierCurveTo(1061.8,1007.4,1059,1004.5,1055.3,1004.5),e.closePath(),e.moveTo(1055.3,1014.2),e.bezierCurveTo(1053.4,1014.2,1052.1,1012.7,1052.1,1010.9),e.bezierCurveTo(1052.1,1009,1053.4,1007.5,1055.3,1007.5),e.bezierCurveTo(1057.2,1007.5,1058.5,1009,1058.5,1010.9),e.bezierCurveTo(1058.5,1012.7,1057.2,1014.2,1055.3,1014.2),e.closePath(),e.fill(),e.beginPath(),e.moveTo(1066.9,1006),e.lineTo(1066.9,1004.8),e.lineTo(1063.8,1004.8),e.lineTo(1063.8,1017),e.lineTo(1067,1017),e.lineTo(1067,1009.3),e.bezierCurveTo(1067.4,1008.6,1068.6,1007.5,1070,1007.5),e.bezierCurveTo(1070.5,1007.5,1070.9,1007.6,1071.2,1007.7),e.lineTo(1071.5,1004.6),e.bezierCurveTo(1071.2,1004.6,1070.9,1004.5,1070.4,1004.5),e.bezierCurveTo(1069,1004.5,1067.6,1005.1,1066.9,1006),e.closePath(),e.fill(),e.beginPath(),e.moveTo(1078.2,1004.5),e.bezierCurveTo(1074.6,1004.5,1072.3,1007.5,1072.3,1010.9),e.bezierCurveTo(1072.3,1014.7,1075,1017.2,1078.7,1017.2),e.bezierCurveTo(1080.5,1017.2,1082.5,1016.5,1083.7,1015),e.lineTo(1081.8,1013.2),e.bezierCurveTo(1081.2,1013.8,1080.1,1014.6,1078.7,1014.6),e.bezierCurveTo(1077,1014.6,1075.6,1013.4,1075.5,1011.7),e.lineTo(1083.9,1011.7),e.bezierCurveTo(1083.9,1011.4,1084,1011.1,1084,1010.8),e.bezierCurveTo(1084,1007.4,1081.6,1004.5,1078.2,1004.5),e.closePath(),e.moveTo(1075.6,1009.3),e.bezierCurveTo(1075.8,1008.2,1076.9,1007.2,1078.2,1007.2),e.bezierCurveTo(1079.5,1007.2,1080.5,1008.2,1080.6,1009.3),e.lineTo(1075.6,1009.3),e.closePath(),e.fill(),e.beginPath(),e.moveTo(1093,1004.5),e.bezierCurveTo(1091.7,1004.5,1090.6,1004.9,1089.7,1005.6),e.lineTo(1089.7,999.1),e.lineTo(1086.4,999.1),e.lineTo(1086.4,1017),e.lineTo(1089.7,1017),e.lineTo(1089.7,1009),e.bezierCurveTo(1090.1,1008.4,1091.2,1007.5,1092.6,1007.5),e.bezierCurveTo(1093.4,1007.5,1094,1007.8,1094.4,1008.2),e.bezierCurveTo(1094.9,1008.7,1095.2,1009.3,1095.2,1010.5),e.lineTo(1095.2,1017),e.lineTo(1098.4,1017),e.lineTo(1098.4,1010.8),e.bezierCurveTo(1098.4,1008.7,1098,1007.4,1097.2,1006.5),e.bezierCurveTo(1096.2,1005.3,1094.6,1004.5,1093,1004.5),e.closePath(),e.fill(),e.beginPath(),e.moveTo(1106.6,1004.5),e.bezierCurveTo(1102.9,1004.5,1100.2,1007.4,1100.2,1010.9),e.bezierCurveTo(1100.2,1014.4,1102.9,1017.2,1106.6,1017.2),e.bezierCurveTo(1110.3,1017.2,1113.1,1014.4,1113.1,1010.9),e.bezierCurveTo(1113.1,1007.4,1110.3,1004.5,1106.6,1004.5),e.closePath(),e.moveTo(1106.6,1014.2),e.bezierCurveTo(1104.7,1014.2,1103.4,1012.7,1103.4,1010.9),e.bezierCurveTo(1103.4,1009,1104.7,1007.5,1106.6,1007.5),e.bezierCurveTo(1108.5,1007.5,1109.8,1009,1109.8,1010.9),e.bezierCurveTo(1109.8,1012.7,1108.5,1014.2,1106.6,1014.2),e.closePath(),e.fill(),e.beginPath(),e.moveTo(1144.8,1004.5),e.bezierCurveTo(1141.2,1004.5,1138.9,1007.5,1138.9,1010.9),e.bezierCurveTo(1138.9,1014.7,1141.6,1017.2,1145.2,1017.2),e.bezierCurveTo(1147.1,1017.2,1149,1016.5,1150.2,1015),e.lineTo(1148.3,1013.2),e.bezierCurveTo(1147.8,1013.8,1146.7,1014.6,1145.3,1014.6),e.bezierCurveTo(1143.6,1014.6,1142.2,1013.4,1142,1011.7),e.lineTo(1150.4,1011.7),e.bezierCurveTo(1150.5,1011.4,1150.5,1011.1,1150.5,1010.8),e.bezierCurveTo(1150.5,1007.4,1148.1,1004.5,1144.8,1004.5),e.closePath(),e.moveTo(1142.2,1009.3),e.bezierCurveTo(1142.3,1008.2,1143.4,1007.2,1144.8,1007.2),e.bezierCurveTo(1146.1,1007.2,1147.1,1008.2,1147.2,1009.3),e.lineTo(1142.2,1009.3),e.closePath(),e.fill(),e.beginPath(),e.moveTo(1123.4,1011.3),e.bezierCurveTo(1123.4,1012.8,1122.2,1014.2,1120.7,1014.2),e.bezierCurveTo(1119.2,1014.2,1118,1012.8,1118,1011.3),e.lineTo(1118,1004.7),e.lineTo(1114.7,1004.7),e.lineTo(1114.7,1011.3),e.bezierCurveTo(1114.7,1014.6,1117.4,1017.2,1120.7,1017.2),e.bezierCurveTo(1123.9,1017.2,1126.6,1014.6,1126.6,1011.3),e.lineTo(1126.6,1004.7),e.lineTo(1123.4,1004.7),e.lineTo(1123.4,1011.3),e.closePath(),e.fill(),e.beginPath(),e.moveTo(1030.6,1004),e.bezierCurveTo(1030.6,1002.7,1032.1,1002.1,1033.3,1002.1),e.bezierCurveTo(1034.4,1002.1,1035.6,1002.6,1036.3,1003.2),e.lineTo(1038,1000.9),e.lineTo(1038.1,1000.7),e.bezierCurveTo(1036.5,999.5,1034.8,999.1,1033,999.1),e.bezierCurveTo(1030.1,999.1,1027.3,1000.9,1027.3,1004.1),e.bezierCurveTo(1027.3,1006,1028.4,1007.3,1029.7,1008.1),e.bezierCurveTo(1032.1,1009.4,1035.3,1009.7,1035.3,1012),e.bezierCurveTo(1035.3,1013.3,1034.3,1014.2,1032.8,1014.2),e.bezierCurveTo(1031.2,1014.2,1029.7,1013.4,1028.7,1012.3),e.lineTo(1026.8,1014.9),e.bezierCurveTo(1028.5,1016.4,1030.6,1017.2,1032.8,1017.2),e.bezierCurveTo(1035.9,1017.2,1038.7,1015.1,1038.7,1011.9),e.bezierCurveTo(1038.7,1006,1030.6,1006.9,1030.6,1004),e.closePath(),e.fill(),e.beginPath(),e.moveTo(1131.7,1008.3),e.bezierCurveTo(1131.7,1007.6,1132.5,1007.3,1133.4,1007.3),e.bezierCurveTo(1134.2,1007.3,1134.9,1007.6,1135.5,1008),e.lineTo(1137.2,1005.7),e.bezierCurveTo(1136.4,1005.1,1134.7,1004.5,1133.1,1004.5),e.bezierCurveTo(1130.7,1004.5,1128.5,1006,1128.5,1008.3),e.bezierCurveTo(1128.5,1012.2,1134.4,1011.6,1134.4,1013.4),e.bezierCurveTo(1134.4,1014,1133.7,1014.5,1132.8,1014.5),e.bezierCurveTo(1131.7,1014.5,1130.5,1014,1129.6,1013.4),e.lineTo(1127.9,1015.6),e.bezierCurveTo(1129.4,1016.7,1131.1,1017.2,1132.8,1017.2),e.bezierCurveTo(1135.3,1017.2,1137.6,1015.8,1137.6,1013.5),e.bezierCurveTo(1137.6,1009.2,1131.7,1009.9,1131.7,1008.3),e.closePath(),e.fill()
}e.exports=t},177:function(e,t,i){"use strict";function r(){if(u=!0,s||(s=document.createElement("div"),s.id="beacon",s.setAttribute("class","abs"),s.textContent="xxxmmm",s.style.left="-1000px",s.style.top="-1000px",s.style.fontFamily="arial",document.body.appendChild(s)),s.style.display=p?"none":"",p=!p,!p)return requestAnimationFrame(r);var e=s.getBoundingClientRect();return void 0===o?(o=e.width,s.style.fontFamily="",requestAnimationFrame(r)):o===e.width?requestAnimationFrame(r):(h=!0,u=!1,document.body.removeChild(s),void requestAnimationFrame(function(){n.callAllMethods(c),c=[]}))}var s,o,n=i(57),a=i(77),l={},h="1"===a.offline||!1,u=!1,c=[],p=!1;l.onLoad=function(e,t){return h?e.call(t):(c.push([t,e]),void(u||r()))},e.exports=l},178:function(e,t,i){"use strict";var r=i(57),s=i(177),o={componentDidMount:function(){s.onLoad(this._onFontsLoad)},componentDidUpdate:function(e){this._measureHeight(e)},_onFontsLoad:function(){this._measureHeight({})},_measureHeight:function(e){this._shouldMeasure(e)&&this._measureHeightFrame()},_measureHeightFrame:r.frame(function(){var e=this.getDOMNode().getBoundingClientRect();e.height!==this._height&&(this._height=e.height,this.props.onHeightChange&&this.props.onHeightChange(e.height),this.onHeightChange&&this.onHeightChange(e.height))}),_shouldMeasure:function(e){if(!this.heightInvalidationProps)return!0;for(var t=0,i=this.heightInvalidationProps.length;i>t;t++){var r=this.heightInvalidationProps[t];if(this.props[r]!==e[r])return!0}return!1}};e.exports=o},179:function(e,t,i){"use strict";var r=i(41),s=i(106),o=i(50),n=i(100),a=i(43),l=i(111),h=r.createClass({displayName:"EditableStoryCoverText",mixins:[o],change:function(e){n.updateNewStory({title:e.target.value})},renderEditable:function(){var e=this.props.width,t=Math.max(a.getGutter(e),a.getMarginWidth(e)),i=Math.max(a.getGutter(e),Math.round(t)),o=a.getGridWidth(this.props.width),n=l.title(o);return r.createElement("div",{className:"abs full-width",style:s.transformStyle({left:i,width:Math.round(e-2*t),bottom:Math.min(i,2*a.getGutter(e))})},r.createElement("input",{className:"text-input aa b block white trans-bg white-border",style:{fontSize:n,borderColor:"#fff",borderStyle:"dotted"},value:this.get("newStory.title"),onChange:this.change}))},render:function(){return r.createElement("div",null,this.props.editing?this.renderEditable():this.props.children)}});e.exports=h},180:function(e,t,i){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},s=i(41),o=i(62),n=i(58),a=i(47),l=i(66),h=i(101),u=i(224),c=s.createClass({displayName:"EmbedButton",mixins:[h,l],getDefaultProps:function(){return{buttonStyle:n.lightGrayOutline}},showEmbed:function(){this.props.onEmbedShow?this.props.onEmbedShow():this.showLayer()},render:function(){return s.createElement(n,r({},this.props,{onClick:this.showEmbed,icon:i(225)}),this.props.hideText?null:"Embed Story")},renderLayer:function(){return s.createElement(o,{footer:!1,maxWidth:a.hasTouch()?320:640,onDismiss:this.hideLayer},s.createElement(u,{story:this.props.story}))}});e.exports=c},181:function(e){"use strict";function t(e){return e*e*e*e*e}function i(e,i,r,o,n){var a=Math.max(1,Math.ceil(Math.abs(r-i)/o));a*=Math.abs(r-i)/(r-i),o=Math.ceil((r-i)/a);for(var l,h=0;o>h;h++)l=t(h/o),e.fillStyle="rgba(0,0,0,"+n*l+")",e.fillRect(1e3-s/2,i+a*h,s,a)}function r(e){var t=1e3-o/2;i(e,t+n,t,a,.3),i(e,t,t+o,a,.4)}var s=1200,o=900,n=300,a=400;r.size={width:s,height:o},e.exports=r},182:function(e,t,i){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},s=i(41),o=i(57),n=i(106),a=i(66),l=i(226),h=s.PropTypes,u=s.createClass({displayName:"ScaledImage",mixins:[a],propTypes:{originalWidth:h.number.isRequired,originalHeight:h.number.isRequired,useTransformsForImages:h.bool},render:function(){var e=this.props.useTransformsForImages||this.props.useCanvas,t=e||this.props.useTransforms,i=void 0!==this.props.x?this.props.x:this.props.width/2,a=void 0!==this.props.y?this.props.y:this.props.height/2,h=n.transformStyle({left:t?0:i-this.props.width*this.props.offsetX,top:t?0:a-this.props.height*this.props.offsetY,translateX:t?i-(e?this.props.originalWidth:this.props.width)*this.props.offsetX:null,translateY:t?a-(e?this.props.originalHeight:this.props.height)*this.props.offsetY:null,offsetX:e?this.props.offsetX:null,offsetY:e?this.props.offsetY:null,scale:e?this.props.width/this.props.originalWidth:null});return s.createElement(l,r({},this.props,{src:this.props.src,width:e?this.props.originalWidth:this.props.width,height:e?this.props.originalHeight:this.props.height,style:o.merge(this.props.style,h),x:null,y:null,originalWidth:null,originalHeight:null}))}});e.exports=u},183:function(e,t,i){"use strict";function r(e){e&&p.push(e),g||(g=requestAnimationFrame(function(){g=null;for(var e;c>d&&(e=p.shift());)d++,e(function(){d--,r()})}))}function s(e,t,i){var r=new window.Image;return r.onload=function(){t.call(i,null,r)},r.onerror=function(){t.call(i,!0,r)},r.src=e,r.complete||r.readyState?(r.onload=null,r.onerror=null,t.call(i,null,r),{unsubscribe:function(){}}):{unsubscribe:function(){r.onload=null,r.onerror=null,t.call(i,"canceled",r)}}}var o=i(117),n=i(57),a=i(77),l=i(167),h=i(71),u={mixins:[l],getInitialState:function(){return this._loading=!1,this._done=!1,{loading:!1,src:null}},reset:function(){this.setState({src:null}),this._reload()},_reload:function(){this._imagePreload&&this._imagePreload.unsubscribe(),this._imagePreload=null,this._done=this._loading=!1,this.setState({loading:!1})},componentWillReceiveProps:function(e){this.props.src!==e.src&&this._reload()},componentWillMount:function(){"undefined"==typeof window&&a.isBot&&this.setState({loading:!1,loadingWasSlow:!1,src:this._getSource()})},componentDidMount:function(){this._preload()},componentDidUpdate:function(){this._preload()},_getSource:function(){return this.props.maintainProtocol?this.props.src:o.stripProtocol(this.props.src)},_preload:function(){this._done||(this.state.onScreen?this._imageLoad():(this.startOnScreenTracking(),r(this._imageLoad)))},componentWillUnmount:function(){clearTimeout(this._timeout),this._imagePreload&&this._imagePreload.unsubscribe()},_onSlowImageLoad:n.safe(function(){this.setState({loading:!0}),this._timeout=null}),_imageLoad:function(e){return this._done||this._loading||!this.isMounted()?e&&e():(this._imagePreload&&this._imagePreload.unsubscribe(),this._loading=!0,this._timeout=setTimeout(this._onSlowImageLoad,200),void(this._imagePreload=s(this.props.src,function(t,i){return"canceled"===t?e&&e():(this._imagePreload=null,this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this._loading=!1,this._done=!0,this.setState({loading:!1,loadingWasSlow:this.state.loading,src:!t&&o.stripProtocol(i.src)}),this.stopScrollListener(),this.stopResizeListener(),t&&(console.warn("Broken image",i.src),h.event("image","load_failed",i.src)),void(e&&e()))},this)))}},c=2,p=[],d=0,g=null;e.exports=u},192:function(e){"use strict";function t(e,t){t&&(e.fillStyle=t),e.beginPath(),e.moveTo(968.16,995.2),e.lineTo(965.85,995.2),e.lineTo(965.85,997.62),e.lineTo(965.85,1002.65),e.bezierCurveTo(965.85,1003.88,966.05,1004.65,966.49,1005.25),e.bezierCurveTo(967.08,1006.03,968.09,1006.5,969.48,1006.5),e.bezierCurveTo(969.92,1006.5,970.62,1006.43,970.92,1006.32),e.lineTo(970.56,1004.35),e.bezierCurveTo(970.4,1004.38,969.96,1004.44,969.62,1004.44),e.bezierCurveTo(969.05,1004.44,968.68,1004.28,968.45,1004.01),e.bezierCurveTo(968.25,1003.78,968.16,1003.45,968.16,1002.91),e.lineTo(968.16,999.6),e.lineTo(971.01,999.6),e.lineTo(971.01,997.62),e.lineTo(968.16,997.62),e.lineTo(968.16,995.2),e.closePath(),e.fill(),e.beginPath(),e.moveTo(976.31,997.45),e.bezierCurveTo(973.69,997.45,971.72,999.47,971.72,1001.98),e.bezierCurveTo(971.72,1004.49,973.69,1006.5,976.31,1006.5),e.bezierCurveTo(978.92,1006.5,980.89,1004.49,980.89,1001.98),e.bezierCurveTo(980.89,999.47,978.92,997.45,976.31,997.45),e.closePath(),e.moveTo(976.31,1004.35),e.bezierCurveTo(974.95,1004.35,974.03,1003.29,974.03,1001.98),e.bezierCurveTo(974.03,1000.67,974.95,999.6,976.31,999.6),e.bezierCurveTo(977.66,999.6,978.58,1000.67,978.58,1001.98),e.bezierCurveTo(978.58,1003.29,977.66,1004.35,976.31,1004.35),e.closePath(),e.fill(),e.beginPath(),e.moveTo(984.54,998.5),e.lineTo(984.54,997.62),e.lineTo(982.31,997.62),e.lineTo(982.31,1006.32),e.lineTo(984.63,1006.32),e.lineTo(984.63,1000.85),e.bezierCurveTo(984.91,1000.33,985.71,999.6,986.72,999.6),e.bezierCurveTo(987.06,999.6,987.4,999.63,987.56,999.69),e.lineTo(987.83,997.52),e.bezierCurveTo(987.58,997.48,987.38,997.45,987.04,997.45),e.bezierCurveTo(986,997.45,985.05,997.86,984.54,998.5),e.closePath(),e.fill(),e.beginPath(),e.moveTo(992.58,997.45),e.bezierCurveTo(990.02,997.45,988.39,999.56,988.39,1001.98),e.bezierCurveTo(988.39,1004.71,990.33,1006.5,992.9,1006.5),e.bezierCurveTo(994.24,1006.5,995.61,1005.94,996.44,1004.94),e.lineTo(995.13,1003.61),e.bezierCurveTo(994.72,1004.06,993.94,1004.62,992.96,1004.62),e.bezierCurveTo(991.73,1004.62,990.75,1003.78,990.63,1002.56),e.lineTo(996.6,1002.56),e.bezierCurveTo(996.64,1002.36,996.66,1002.13,996.66,1001.89),e.bezierCurveTo(996.66,999.47,994.97,997.45,992.58,997.45),e.closePath(),e.moveTo(990.73,1000.85),e.bezierCurveTo(990.84,1000.06,991.62,999.33,992.58,999.33),e.bezierCurveTo(993.53,999.33,994.22,1000.08,994.29,1000.85),e.lineTo(990.73,1000.85),e.closePath(),e.fill(),e.beginPath(),e.moveTo(1003.06,997.45),e.bezierCurveTo(1002.18,997.45,1001.36,997.75,1000.72,998.25),e.lineTo(1000.72,993.59),e.lineTo(998.41,993.59),e.lineTo(998.41,1006.32),e.lineTo(1000.72,1006.32),e.lineTo(1000.72,1000.67),e.bezierCurveTo(1001.04,1000.22,1001.84,999.6,1002.82,999.6),e.bezierCurveTo(1003.35,999.6,1003.81,999.78,1004.11,1000.08),e.bezierCurveTo(1004.43,1000.4,1004.63,1000.85,1004.63,1001.71),e.lineTo(1004.63,1006.32),e.lineTo(1006.94,1006.32),e.lineTo(1006.94,1001.89),e.bezierCurveTo(1006.94,1000.4,1006.62,999.53,1006.05,998.84),e.bezierCurveTo(1005.34,997.98,1004.26,997.45,1003.06,997.45),e.closePath(),e.fill(),e.beginPath(),e.moveTo(1012.77,997.45),e.bezierCurveTo(1010.16,997.45,1008.19,999.47,1008.19,1001.98),e.bezierCurveTo(1008.19,1004.49,1010.16,1006.5,1012.77,1006.5),e.bezierCurveTo(1015.39,1006.5,1017.36,1004.49,1017.36,1001.98),e.bezierCurveTo(1017.36,999.47,1015.39,997.45,1012.77,997.45),e.closePath(),e.moveTo(1012.77,1004.35),e.bezierCurveTo(1011.42,1004.35,1010.5,1003.29,1010.5,1001.98),e.bezierCurveTo(1010.5,1000.67,1011.42,999.6,1012.77,999.6),e.bezierCurveTo(1014.12,999.6,1015.05,1000.67,1015.05,1001.98),e.bezierCurveTo(1015.05,1003.29,1014.12,1004.35,1012.77,1004.35),e.closePath(),e.fill(),e.beginPath(),e.moveTo(1039.91,997.45),e.bezierCurveTo(1037.35,997.45,1035.71,999.56,1035.71,1001.98),e.bezierCurveTo(1035.71,1004.71,1037.65,1006.5,1040.23,1006.5),e.bezierCurveTo(1041.56,1006.5,1042.93,1005.94,1043.77,1004.94),e.lineTo(1042.45,1003.61),e.bezierCurveTo(1042.04,1004.06,1041.26,1004.62,1040.28,1004.62),e.bezierCurveTo(1039.05,1004.62,1038.08,1003.78,1037.95,1002.56),e.lineTo(1043.93,1002.56),e.bezierCurveTo(1043.96,1002.36,1043.98,1002.13,1043.98,1001.89),e.bezierCurveTo(1043.98,999.47,1042.29,997.45,1039.91,997.45),e.closePath(),e.moveTo(1038.06,1000.85),e.bezierCurveTo(1038.17,1000.06,1038.95,999.33,1039.91,999.33),e.bezierCurveTo(1040.85,999.33,1041.54,1000.08,1041.62,1000.85),e.lineTo(1038.06,1000.85),e.closePath(),e.fill(),e.beginPath(),e.moveTo(1024.69,1002.25),e.bezierCurveTo(1024.69,1003.32,1023.83,1004.32,1022.77,1004.32),e.bezierCurveTo(1021.71,1004.32,1020.85,1003.32,1020.85,1002.25),e.lineTo(1020.85,997.57),e.lineTo(1018.56,997.57),e.lineTo(1018.56,1002.25),e.bezierCurveTo(1018.56,1004.6,1020.45,1006.5,1022.77,1006.5),e.bezierCurveTo(1025.09,1006.5,1026.98,1004.6,1026.98,1002.25),e.lineTo(1026.98,997.6),e.lineTo(1024.69,997.6),e.lineTo(1024.69,1002.25),e.closePath(),e.fill(),e.beginPath(),e.moveTo(958.74,997.1),e.bezierCurveTo(958.74,996.14,959.75,995.74,960.66,995.74),e.bezierCurveTo(961.45,995.74,962.24,996.08,962.75,996.52),e.lineTo(963.98,994.89),e.lineTo(964.06,994.77),e.bezierCurveTo(962.88,993.89,961.71,993.59,960.45,993.59),e.bezierCurveTo(958.38,993.59,956.34,994.88,956.34,997.12),e.bezierCurveTo(956.34,998.54,957.12,999.4,958.1,999.97),e.bezierCurveTo(959.77,1000.96,962.08,1001.16,962.08,1002.77),e.bezierCurveTo(962.08,1003.69,961.34,1004.35,960.27,1004.35),e.bezierCurveTo(959.16,1004.35,958.1,1003.78,957.39,1003.02),e.lineTo(956.02,1004.83),e.bezierCurveTo(957.25,1005.88,958.7,1006.5,960.27,1006.5),e.bezierCurveTo(962.51,1006.5,964.48,1004.96,964.48,1002.74),e.bezierCurveTo(964.48,998.5,958.74,999.13,958.74,997.1),e.closePath(),e.fill(),e.beginPath(),e.moveTo(1030.64,1000.12),e.bezierCurveTo(1030.64,999.67,1031.18,999.42,1031.82,999.42),e.bezierCurveTo(1032.38,999.42,1032.91,999.64,1033.34,999.92),e.lineTo(1034.55,998.32),e.bezierCurveTo(1033.98,997.87,1032.76,997.45,1031.64,997.45),e.bezierCurveTo(1029.93,997.45,1028.33,998.49,1028.33,1000.15),e.bezierCurveTo(1028.33,1002.95,1032.51,1002.48,1032.51,1003.79),e.bezierCurveTo(1032.51,1004.22,1032.03,1004.53,1031.41,1004.53),e.bezierCurveTo(1030.58,1004.53,1029.73,1004.23,1029.14,1003.74),e.lineTo(1027.93,1005.34),e.bezierCurveTo(1028.94,1006.09,1030.2,1006.5,1031.39,1006.5),e.bezierCurveTo(1033.21,1006.5,1034.82,1005.48,1034.82,1003.81),e.bezierCurveTo(1034.82,1000.8,1030.64,1001.25,1030.64,1000.12),e.closePath(),e.fill()}t.size={width:88,height:14},t.styles={dark:"#333",light:"#fff"},e.exports=t},193:function(e,t,i){"use strict";function r(e,t,i){e.beginPath(),e.arc(1e3,1e3,i,0,2*Math.PI),e.lineWidth=1,e.fillStyle=t[0],e.fill(),s(e)}var s=i(232);r.styles={"default":["#fff"]},e.exports=r},194:function(e,t,i){"use strict";function r(e,t,i){e.beginPath(),e.arc(1e3,1e3,i,0,2*Math.PI),e.lineWidth=1,e.fillStyle=t[0],e.fill(),s(e)}var s=i(52);r.styles={"default":["#fff"]},e.exports=r},198:function(e,t,i){"use strict";function r(e,t){var i=e.createLinearGradient(1019.1,1019.1,981,981);return t.forEach(function(e,r){i.addColorStop(r/(t.length-1),e)}),i}function s(e){var t=void 0===arguments[1]?{}:arguments[1];if(e.beginPath(),e.moveTo(1010.4,981),e.lineTo(989.6,981),e.bezierCurveTo(984.9,981,981,984.8,981,989.6),e.lineTo(981,1010.4),e.bezierCurveTo(981,1015.2,984.9,1019,989.6,1019),e.lineTo(1010.4,1019),e.bezierCurveTo(1015.1,1019,1019,1015.2,1019,1010.4),e.lineTo(1019,989.6),e.bezierCurveTo(1019,984.8,1015.1,981,1010.4,981),e.closePath(),t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.stroke()),t.fillStyle)e.fillStyle=t.fillStyle;else if(t.gradientStops)e.fillStyle=r(e,t.gradientStops);else{var i=e.createLinearGradient(1019.1,1019.1,981,981);i.addColorStop(0,"rgb(22, 228, 228)"),i.addColorStop(.25,"rgb(22, 215, 228)"),i.addColorStop(.5,"rgb(34, 191, 222)"),i.addColorStop(.75,"rgb(22, 187, 228)"),i.addColorStop(1,"rgb(0, 178, 230)"),e.fillStyle=i}if(e.fill(),t.outlineLogo){var s=.55;e.strokeStyle="white",e.translate(1e3*(1-s),1e3*(1-s)),e.scale(s,s),n(e,1.5)}else o(e,t.markStyle||["#fff","rgba(255,255,255,0.5)"])}var o=i(233),n=i(52);s.size={width:40,height:40},s.styles={alpha:{fillStyle:"white",strokeStyle:"#999",markStyle:["#333","#00c4ff"]},beta:{gradientStops:["#3f4e52","#2e3638"],outlineLogo:!0}},e.exports=s},222:function(e,t,i){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},s=i(41),o=i(117),n=i(42),a=i(47),l=i(66),h=s.createClass({displayName:"Video",mixins:[l],getInitialState:function(){return this._foreground=!0,{preload:a.hasTouch()?null:"none"}},getDefaultProps:function(){return{loop:!0}},render:function(){return s.createElement("video",r({},this.props,{loop:this.props.loop,muted:this.props.muted,preload:this.state.preload,play:null,poster:this.props.poster}),this.props.representations.playlist&&!a.isDesktopSafari()&&s.createElement("source",{src:o.stripProtocol(this.props.representations.playlist.url),type:"application/vnd.apple.mpegurl"}),this.props.representations.high&&s.createElement("source",{src:o.stripProtocol(this.props.representations.high.url),type:"video/mp4"}),this.props.representations["webm-high"]&&s.createElement("source",{src:o.stripProtocol(this.props.representations["webm-high"].url),type:"video/webm"}))},componentDidMount:function(){this._playingListener=this.props.onPlay&&this.getDOMNode().addEventListener("playing",this.props.onPlay),this._pauseListener=this.props.onPause&&this.getDOMNode().addEventListener("pause",this.props.onPause),this._canPlayThroughListener=this.getDOMNode().addEventListener("canplaythrough",this.onCanPlayThrough),this._windowFocusListener=n.onFocus(this.onWindowFocus),this._windowBlurListener=n.onBlur(this.onWindowBlur),this.playPause({}),this.muteUnmute()},componentWillUnmount:function(){this.getDOMNode().removeEventListener("playing",this._playingListener),this.getDOMNode().removeEventListener("pause",this._pauseListener),this.getDOMNode().removeEventListener("canplaythrough",this._canPlayThroughListener),this._windowFocusListener.unsubscribe(),this._windowBlurListener.unsubscribe()},componentDidUpdate:function(e){this.playPause(e),this.muteUnmute()},onWindowFocus:function(){this._foreground=!0,this.props.play&&this.play(!0)},onWindowBlur:function(){this._foreground=!1,this.props.play&&this.pause()},muteUnmute:function(){this.getDOMNode().muted=this.props.muted},playPause:function(e){!e.play&&this.props.play?this.play():e.play&&!this.props.play&&this.pause()},play:function(e){var t=this.getDOMNode();this.setState({preload:null}),(a.hasTouch()||4===t.readyState&&(this._foreground||e))&&this.actuallyPlay()},pause:function(){this.getDOMNode().pause()},onCanPlayThrough:function(){this.isMounted()&&this.props.play&&this._foreground&&this.actuallyPlay()},actuallyPlay:function(){this.getDOMNode().play()}});e.exports=h},224:function(e,t,i){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},s=i(41),o=i(47),n=i(115),a=i(66),l=i(250),h=i(54),u=s.addons.classSet,c=s.createClass({displayName:"MobileBackButton",mixins:[n,a],onClick:function(){this.props.onClick&&this.props.onClick()},render:function(){return s.createElement("div",r({},this.props,this.getClickMixinProps(),{className:"valign-parent full-height abs",style:{left:0}}),s.createElement("div",{className:"valign phm"},s.createElement("div",{className:"common-m-back"})))}}),p=s.createClass({displayName:"EmbedCode",mixins:[n,a],componentDidMount:function(){this.select()},getEmbedCode:function(){var e=s.createElement(l,{story:this.props.story});return s.renderToStaticMarkup(e).replace(/&#x2f;/g,"/")},onClick:function(){this.select()},select:function(){var e=this.getDOMNode();o.hasTouch()?(e.selectionStart=0,e.selectionEnd=e.value.length):e.select()},render:function(){return this.clickEvents(s.createElement("textarea",{className:"textarea left ib white-bg mvs text-xs pvs medium-gray light-gray-border",style:{width:o.hasTouch()?290:600,height:o.hasTouch()?128:84},value:this.getEmbedCode(),onFocus:this.select}))}}),d=s.createClass({displayName:"EmbedDialogContent",mixins:[a],render:function(){return s.createElement("div",{className:u({center:!0,pam:!o.hasTouch()})},s.createElement("h3",{className:u({b:!0,"text-m":!0,mtm:!o.hasTouch(),"light-gray-border":o.hasTouch(),"border-bottom":!0,pvs:o.hasTouch(),rel:!0})},this.renderBack(),h("Embed Story")),s.createElement("p",{className:"ib mvs",style:{width:o.hasTouch()?290:400}},h("Embed this story into your website or blog by\n              copying and pasting the HTML code below:")),s.createElement(p,{story:this.props.story}),this.renderPreview())},renderPreview:function(){return o.hasTouch()?null:s.createElement("div",null,s.createElement("h4",{className:"medlight-gray text-xs mvl"},h("PREVIEW")),s.createElement(l,{story:this.props.story}))},renderBack:function(){return this.props.onBack?s.createElement(c,{onClick:this.props.onBack,className:"mts"}):void 0}});e.exports=d},225:function(e){"use strict";function t(e){e.beginPath(),e.moveTo(998,995.7),e.lineTo(996.1,993.9),e.lineTo(990,1e3),e.lineTo(996.1,1006.1),e.lineTo(998,1004.3),e.lineTo(993.1,1e3),e.lineTo(998,995.7),e.closePath(),e.moveTo(1002,995.7),e.lineTo(1003.9,993.9),e.lineTo(1010,1e3),e.lineTo(1003.9,1006.1),e.lineTo(1002,1004.3),e.lineTo(1006.9,1e3),e.lineTo(1002,995.7),e.closePath(),e.fill()}e.exports=t},226:function(e,t,i){"use strict";function r(e){e.preventDefault()}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},o=i(41),n=i(57),a=i(47),l=i(66),h=o.createClass({displayName:"SimpleImage",mixins:[l],getDefaultProps:function(){return{useCanvas:a.shouldRenderImagesWithCanvas()}},render:function(){var e={width:this.props.width,height:this.props.height};return this.props.useCanvas?o.createElement("canvas",s({},this.props,{width:this.props.width,height:this.props.height,src:null,style:n.merge(this.props.style,e),ref:"canvas"})):o.createElement("img",s({},this.props,{src:this.props.src,style:n.merge(this.props.style,e),width:null,height:null}))},componentDidMount:function(){if(!window.forceEnableContextMenu){var e=this.getDOMNode();e.addEventListener("contextmenu",r,!1)}this.componentDidUpdate()},componentWillUnmount:function(){if(!window.forceEnableContextMenu){var e=this.getDOMNode();e.removeEventListener("contextmenu",r)}},componentDidUpdate:function(){if(this.props.src&&this.refs&&this.refs.canvas){var e=new window.Image;e.src=this.props.src,e.onload=function(){if(this.refs&&this.refs.canvas){var t=this.refs.canvas.getDOMNode().getContext("2d");t.drawImage(e,0,0,this.props.width,this.props.height)}}.bind(this)}}});e.exports=h},232:function(e){"use strict";function t(e,t){e.lineJoin="round",e.lineWidth=t||2,e.beginPath(),e.arc(1e3,990,20,0,2*Math.PI),e.fillStyle="#cccccc",e.fill(),e.closePath(),e.beginPath(),e.moveTo(1e3,1016),e.bezierCurveTo(1016,1016,1040,1016,1040,1040),e.bezierCurveTo(1040,1055,1015,1062,1e3,1062),e.bezierCurveTo(985,1062,960,1055,960,1040),e.bezierCurveTo(960,1016,984,1016,1e3,1016),e.closePath(),e.fill(),e.stroke()}t.size={width:52,height:59},t.styles={light:1},e.exports=t},233:function(e){"use strict";function t(e,t){e.beginPath(),e.moveTo(1009.5,1010.5),e.lineTo(1000.5,1010.5),e.lineTo(1000.5,1000.5),e.lineTo(1009.5,1000.5),e.lineTo(1009.5,1010.5),e.closePath(),e.fillStyle=t[1],e.fill(),e.beginPath(),e.moveTo(991.5,1000.5),e.lineTo(1000.5,1000.5),e.lineTo(1000.5,990.5),e.lineTo(991.5,990.5),e.lineTo(991.5,1000.5),e.closePath(),e.fill(),e.beginPath(),e.moveTo(1000.5,1016),e.lineTo(1009.5,1010.8),e.lineTo(1000.5,1005.7),e.lineTo(991.5,1010.8),e.lineTo(1000.5,1016),e.closePath(),e.fillStyle=t[0],e.fill(),e.beginPath(),e.moveTo(1000.5,995.3),e.lineTo(991.5,1000.5),e.lineTo(1000.5,1005.7),e.lineTo(1009.5,1000.5),e.lineTo(1000.5,995.3),e.closePath(),e.fill(),e.beginPath(),e.moveTo(1000.5,985),e.lineTo(991.5,990.2),e.lineTo(1000.5,995.3),e.lineTo(1009.5,990.2),e.lineTo(1000.5,985),e.closePath(),e.fill()}e.exports=t},250:function(e,t,i){"use strict";var r=i(41),s=i(117),o=i(66),n=r.createClass({displayName:"EmbedFrame",mixins:[o],render:function(){return r.createElement("iframe",{src:s.stripProtocol(this.props.story.url)+"/embed",style:{width:"100%",maxWidth:600,height:300,border:"none"},scrolling:"no"})}});e.exports=n}});